["{\"transientOutputs\":false,\"transientCellMetadata\":{\"breakpointMargin\":true,\"id\":false,\"metadata\":false,\"attachments\":false},\"transientDocumentMetadata\":{\"cells\":true,\"indentAmount\":true},\"cellContentMetadata\":{\"attachments\":true}}","{\"cells\":[{\"cellKind\":1,\"language\":\"markdown\",\"metadata\":{\"metadata\":{},\"id\":\"4d8fd73a\"},\"outputs\":[],\"source\":\"# Feature & Target Pipeline\\nQuick tests and evaluation on new targets/features/models\",\"internalMetadata\":{\"internalId\":\"b6cc7e85\"}},{\"cellKind\":2,\"language\":\"python\",\"metadata\":{\"execution_count\":2,\"id\":\"64b95c13\",\"metadata\":{}},\"outputs\":[{\"outputId\":\"7966731a-bcdc-4af3-b334-3ef6458f348d\",\"metadata\":{\"outputType\":\"stream\"},\"outputs\":[{\"data\":{\"type\":\"ArrayBuffer-4f56482b-5a03-49ba-8356-210d3b0c1c3d\",\"data\":\"L2hvbWUvZWFzdC9zaGFyZWQvZWFzdFN5bmMvcHlFYXN0L3Byb192ZXJzaW9uLy52ZW52L2xpYi9weXRob24zLjEzL3NpdGUtcGFja2FnZXMvdHFkbS9hdXRvLnB5OjIxOiBUcWRtV2FybmluZzogSVByb2dyZXNzIG5vdCBmb3VuZC4gUGxlYXNlIHVwZGF0ZSBqdXB5dGVyIGFuZCBpcHl3aWRnZXRzLiBTZWUgaHR0cHM6Ly9pcHl3aWRnZXRzLnJlYWR0aGVkb2NzLmlvL2VuL3N0YWJsZS91c2VyX2luc3RhbGwuaHRtbAogIGZyb20gLmF1dG9ub3RlYm9vayBpbXBvcnQgdHFkbSBhcyBub3RlYm9va190cWRtCg==\"},\"mime\":\"application/vnd.code.notebook.stderr\"}]},{\"outputId\":\"7966731a-bcdc-4af3-b334-3ef6458f348d\",\"metadata\":{\"outputType\":\"stream\"},\"outputs\":[{\"data\":{\"type\":\"ArrayBuffer-4f56482b-5a03-49ba-8356-210d3b0c1c3d\",\"data\":\"L2hvbWUvZWFzdC9zaGFyZWQvZWFzdFN5bmMvcHlFYXN0L3Byb192ZXJzaW9uLy52ZW52L2xpYi9weXRob24zLjEzL3NpdGUtcGFja2FnZXMvdHFkbS9hdXRvLnB5OjIxOiBUcWRtV2FybmluZzogSVByb2dyZXNzIG5vdCBmb3VuZC4gUGxlYXNlIHVwZGF0ZSBqdXB5dGVyIGFuZCBpcHl3aWRnZXRzLiBTZWUgaHR0cHM6Ly9pcHl3aWRnZXRzLnJlYWR0aGVkb2NzLmlvL2VuL3N0YWJsZS91c2VyX2luc3RhbGwuaHRtbAogIGZyb20gLmF1dG9ub3RlYm9vayBpbXBvcnQgdHFkbSBhcyBub3RlYm9va190cWRtCg==\"},\"mime\":\"application/vnd.code.notebook.stderr\"}]},{\"outputId\":\"784892db-386d-4f48-b9f7-1322db86cfe7\",\"metadata\":{\"outputType\":\"stream\"},\"outputs\":[{\"data\":{\"type\":\"ArrayBuffer-4f56482b-5a03-49ba-8356-210d3b0c1c3d\",\"data\":\"SW1wb3J0cyBhbmQgY29uZmlndXJhdGlvbiByZWFkeQo9PT0gTG9hZGluZyAuaGlzdF9kYl8xaC5jc3YgPT09CgpJbml0aWFsIHJvd3M6IDUzLDk2MwoKPT09IEZPVU5EIElTU1VFUyAocHJpb3IgdG8gYXV0b21hdGVkIGZpeGVzKSA9PT0KCvCflLQgVEVNUE9SQUw6IE1pc3NpbmcgaG91cnM6IDEgY2FzZXMKICBNaXNzaW5nIHRpbWVzdGFtcHMgc2FtcGxlOgogICAgMjAyNS0xMS0wNCAxMzowMDowMAoK8J+UtCBEQVRBIElOVEVHUklUWTogSWRlbnRpY2FsIGNvbnNlY3V0aXZlIE9ITEMgcm93czogMTc0IGNhc2VzCiAgU2FtcGxlIGNhc2VzOgogICAgeydvJzogJzcxMTAuMTAnLCAnaCc6ICc3MTEwLjEwJywgJ2wnOiAnNzExMC4xMCcsICdjJzogJzcxMTAuMTAnLCAndm9sQ2N5JzogJzAuMDAnfQogICAgeydvJzogJzcxMTAuMTAnLCAnaCc6ICc3MTEwLjEwJywgJ2wnOiAnNzExMC4xMCcsICdjJzogJzcxMTAuMTAnLCAndm9sQ2N5JzogJzAuMDAnfQogICAgeydvJzogJzcxMTAuMTAnLCAnaCc6ICc3MTEwLjEwJywgJ2wnOiAnNzExMC4xMCcsICdjJzogJzcxMTAuMTAnLCAndm9sQ2N5JzogJzAuMDAnfQogIEFmZmVjdGVkIGRhdGVzIChzYW1wbGUpOiAyMDIwLTAxLTAyLCAyMDIwLTAxLTAzLCAyMDIwLTAxLTA0LCAyMDIwLTAxLTA1LCAyMDIwLTAxLTA2Cgo9PT0gQVBQTFlJTkcgQVVUT01BVEVEIEZJWEVTID09PQpBQ1RJT046IFJlc2FtcGxlZC9SZWluZGV4ZWQgdG8gNTM5NjQgaG91cmx5IGludGVydmFscyAod2FzIDUzOTYzKS4KQUNUSU9OOiBGb3J3YXJkLWZpbGxlZCBOYU5zIGFmdGVyIHJlc2FtcGxpbmcuICg1IE5hTnMgcG90ZW50aWFsbHkgZmlsbGVkIGJ5IGZmaWxsKS4KCj09PSBGSU5BTCBTVEFUVVMgKGFmdGVyIGF1dG9tYXRlZCBmaXhlcykgPT09CkRhdGFGcmFtZSBzaGFwZSBwb3N0LWZpeGVzOiAoNTM5NjQsIDUpIChPcmlnaW5hbDogKDUzOTYzLCA2KSkKRGF0ZSByYW5nZTogMjAxOS0xMC0wMSAwMDowMDowMCB0byAyMDI1LTExLTI2IDExOjAwOjAwCk5vIG51bGwgdmFsdWVzIHJlbWFpbmluZyBhZnRlciBmaXhlcy4KVG90YWwgbnVsbCB2YWx1ZXMgcmVtYWluaW5nIGFmdGVyIGZpeGVzOiAwCkhlYXZ5IGNhY2hlIHJlYWR5OiBoZWF2eV9mZWF0dXJlc192MS5wa2wgKHRvdGFsIDEpIGluIGNhY2hlL2hlYXZ5X2ZlYXR1cmVzCkxvYWRlZCBoZWF2eSBjYWNoZSBwYXlsb2FkIGZyb20gZGlzazsgc2tpcHBpbmcgcmVidWlsZC4K\"},\"mime\":\"application/vnd.code.notebook.stdout\"}]},{\"outputId\":\"7966731a-bcdc-4af3-b334-3ef6458f348d\",\"metadata\":{\"outputType\":\"stream\"},\"outputs\":[{\"data\":{\"type\":\"ArrayBuffer-4f56482b-5a03-49ba-8356-210d3b0c1c3d\",\"data\":\"L2hvbWUvZWFzdC9zaGFyZWQvZWFzdFN5bmMvcHlFYXN0L3Byb192ZXJzaW9uLy52ZW52L2xpYi9weXRob24zLjEzL3NpdGUtcGFja2FnZXMvdHFkbS9hdXRvLnB5OjIxOiBUcWRtV2FybmluZzogSVByb2dyZXNzIG5vdCBmb3VuZC4gUGxlYXNlIHVwZGF0ZSBqdXB5dGVyIGFuZCBpcHl3aWRnZXRzLiBTZWUgaHR0cHM6Ly9pcHl3aWRnZXRzLnJlYWR0aGVkb2NzLmlvL2VuL3N0YWJsZS91c2VyX2luc3RhbGwuaHRtbAogIGZyb20gLmF1dG9ub3RlYm9vayBpbXBvcnQgdHFkbSBhcyBub3RlYm9va190cWRtCg==\"},\"mime\":\"application/vnd.code.notebook.stderr\"}]},{\"outputId\":\"784892db-386d-4f48-b9f7-1322db86cfe7\",\"metadata\":{\"outputType\":\"stream\"},\"outputs\":[{\"data\":{\"type\":\"ArrayBuffer-4f56482b-5a03-49ba-8356-210d3b0c1c3d\",\"data\":\"SW1wb3J0cyBhbmQgY29uZmlndXJhdGlvbiByZWFkeQo9PT0gTG9hZGluZyAuaGlzdF9kYl8xaC5jc3YgPT09CgpJbml0aWFsIHJvd3M6IDUzLDk2MwoKPT09IEZPVU5EIElTU1VFUyAocHJpb3IgdG8gYXV0b21hdGVkIGZpeGVzKSA9PT0KCvCflLQgVEVNUE9SQUw6IE1pc3NpbmcgaG91cnM6IDEgY2FzZXMKICBNaXNzaW5nIHRpbWVzdGFtcHMgc2FtcGxlOgogICAgMjAyNS0xMS0wNCAxMzowMDowMAoK8J+UtCBEQVRBIElOVEVHUklUWTogSWRlbnRpY2FsIGNvbnNlY3V0aXZlIE9ITEMgcm93czogMTc0IGNhc2VzCiAgU2FtcGxlIGNhc2VzOgogICAgeydvJzogJzcxMTAuMTAnLCAnaCc6ICc3MTEwLjEwJywgJ2wnOiAnNzExMC4xMCcsICdjJzogJzcxMTAuMTAnLCAndm9sQ2N5JzogJzAuMDAnfQogICAgeydvJzogJzcxMTAuMTAnLCAnaCc6ICc3MTEwLjEwJywgJ2wnOiAnNzExMC4xMCcsICdjJzogJzcxMTAuMTAnLCAndm9sQ2N5JzogJzAuMDAnfQogICAgeydvJzogJzcxMTAuMTAnLCAnaCc6ICc3MTEwLjEwJywgJ2wnOiAnNzExMC4xMCcsICdjJzogJzcxMTAuMTAnLCAndm9sQ2N5JzogJzAuMDAnfQogIEFmZmVjdGVkIGRhdGVzIChzYW1wbGUpOiAyMDIwLTAxLTAyLCAyMDIwLTAxLTAzLCAyMDIwLTAxLTA0LCAyMDIwLTAxLTA1LCAyMDIwLTAxLTA2Cgo9PT0gQVBQTFlJTkcgQVVUT01BVEVEIEZJWEVTID09PQpBQ1RJT046IFJlc2FtcGxlZC9SZWluZGV4ZWQgdG8gNTM5NjQgaG91cmx5IGludGVydmFscyAod2FzIDUzOTYzKS4KQUNUSU9OOiBGb3J3YXJkLWZpbGxlZCBOYU5zIGFmdGVyIHJlc2FtcGxpbmcuICg1IE5hTnMgcG90ZW50aWFsbHkgZmlsbGVkIGJ5IGZmaWxsKS4KCj09PSBGSU5BTCBTVEFUVVMgKGFmdGVyIGF1dG9tYXRlZCBmaXhlcykgPT09CkRhdGFGcmFtZSBzaGFwZSBwb3N0LWZpeGVzOiAoNTM5NjQsIDUpIChPcmlnaW5hbDogKDUzOTYzLCA2KSkKRGF0ZSByYW5nZTogMjAxOS0xMC0wMSAwMDowMDowMCB0byAyMDI1LTExLTI2IDExOjAwOjAwCk5vIG51bGwgdmFsdWVzIHJlbWFpbmluZyBhZnRlciBmaXhlcy4KVG90YWwgbnVsbCB2YWx1ZXMgcmVtYWluaW5nIGFmdGVyIGZpeGVzOiAwCkhlYXZ5IGNhY2hlIHJlYWR5OiBoZWF2eV9mZWF0dXJlc192MS5wa2wgKHRvdGFsIDEpIGluIGNhY2hlL2hlYXZ5X2ZlYXR1cmVzCkxvYWRlZCBoZWF2eSBjYWNoZSBwYXlsb2FkIGZyb20gZGlzazsgc2tpcHBpbmcgcmVidWlsZC4K\"},\"mime\":\"application/vnd.code.notebook.stdout\"}]},{\"outputId\":\"0912176a-0f87-4e56-b350-be0db9ce4cfc\",\"metadata\":{\"outputType\":\"error\",\"originalError\":{\"output_type\":\"error\",\"ename\":\"KeyboardInterrupt\",\"evalue\":\"\",\"traceback\":[\"\\u001b[31m---------------------------------------------------------------------------\\u001b[39m\",\"\\u001b[31mKeyboardInterrupt\\u001b[39m                         Traceback (most recent call last)\",\"\\u001b[36mCell\\u001b[39m\\u001b[36m \\u001b[39m\\u001b[32mIn[2]\\u001b[39m\\u001b[32m, line 93\\u001b[39m\\n\\u001b[32m     91\\u001b[39m \\u001b[38;5;66;03m# Run Fit/Transform\\u001b[39;00m\\n\\u001b[32m     92\\u001b[39m regime_engineer.fit(df_train)\\n\\u001b[32m---> \\u001b[39m\\u001b[32m93\\u001b[39m targets = \\u001b[43mregime_engineer\\u001b[49m\\u001b[43m.\\u001b[49m\\u001b[43mtransform\\u001b[49m\\u001b[43m(\\u001b[49m\\u001b[43mdf_train\\u001b[49m\\u001b[43m)\\u001b[49m\\n\\u001b[32m     95\\u001b[39m \\u001b[38;5;66;03m# Check the distribution\\u001b[39;00m\\n\\u001b[32m     96\\u001b[39m dist = regime_engineer.get_regime_distribution(df_train)\\n\",\"\\u001b[36mFile \\u001b[39m\\u001b[32m~/shared/eastSync/pyEast/pro_version/.venv/lib/python3.13/site-packages/sklearn/utils/_set_output.py:316\\u001b[39m, in \\u001b[36m_wrap_method_output.<locals>.wrapped\\u001b[39m\\u001b[34m(self, X, *args, **kwargs)\\u001b[39m\\n\\u001b[32m    314\\u001b[39m \\u001b[38;5;129m@wraps\\u001b[39m(f)\\n\\u001b[32m    315\\u001b[39m \\u001b[38;5;28;01mdef\\u001b[39;00m\\u001b[38;5;250m \\u001b[39m\\u001b[34mwrapped\\u001b[39m(\\u001b[38;5;28mself\\u001b[39m, X, *args, **kwargs):\\n\\u001b[32m--> \\u001b[39m\\u001b[32m316\\u001b[39m     data_to_wrap = \\u001b[43mf\\u001b[49m\\u001b[43m(\\u001b[49m\\u001b[38;5;28;43mself\\u001b[39;49m\\u001b[43m,\\u001b[49m\\u001b[43m \\u001b[49m\\u001b[43mX\\u001b[49m\\u001b[43m,\\u001b[49m\\u001b[43m \\u001b[49m\\u001b[43m*\\u001b[49m\\u001b[43margs\\u001b[49m\\u001b[43m,\\u001b[49m\\u001b[43m \\u001b[49m\\u001b[43m*\\u001b[49m\\u001b[43m*\\u001b[49m\\u001b[43mkwargs\\u001b[49m\\u001b[43m)\\u001b[49m\\n\\u001b[32m    317\\u001b[39m     \\u001b[38;5;28;01mif\\u001b[39;00m \\u001b[38;5;28misinstance\\u001b[39m(data_to_wrap, \\u001b[38;5;28mtuple\\u001b[39m):\\n\\u001b[32m    318\\u001b[39m         \\u001b[38;5;66;03m# only wrap the first output for cross decomposition\\u001b[39;00m\\n\\u001b[32m    319\\u001b[39m         return_tuple = (\\n\\u001b[32m    320\\u001b[39m             _wrap_data_with_container(method, data_to_wrap[\\u001b[32m0\\u001b[39m], X, \\u001b[38;5;28mself\\u001b[39m),\\n\\u001b[32m    321\\u001b[39m             *data_to_wrap[\\u001b[32m1\\u001b[39m:],\\n\\u001b[32m    322\\u001b[39m         )\\n\",\"\\u001b[36mFile \\u001b[39m\\u001b[32m/shared/eastSync/pyEast/pro_version/targetEngineer.py:343\\u001b[39m, in \\u001b[36mVolatilityRegimeEngineer.transform\\u001b[39m\\u001b[34m(self, X)\\u001b[39m\\n\\u001b[32m    341\\u001b[39m check_is_fitted(\\u001b[38;5;28mself\\u001b[39m, \\u001b[33m'\\u001b[39m\\u001b[33m_seasonal_vol_lookup\\u001b[39m\\u001b[33m'\\u001b[39m)\\n\\u001b[32m    342\\u001b[39m box_df = \\u001b[38;5;28mself\\u001b[39m._calculate_lookback_box(X)\\n\\u001b[32m--> \\u001b[39m\\u001b[32m343\\u001b[39m results = \\u001b[38;5;28;43mself\\u001b[39;49m\\u001b[43m.\\u001b[49m\\u001b[43m_assign_regime_labels\\u001b[49m\\u001b[43m(\\u001b[49m\\u001b[43mX\\u001b[49m\\u001b[43m,\\u001b[49m\\u001b[43m \\u001b[49m\\u001b[43mbox_df\\u001b[49m\\u001b[43m)\\u001b[49m\\n\\u001b[32m    345\\u001b[39m output = results.copy()\\n\\u001b[32m    346\\u001b[39m output[\\u001b[33m'\\u001b[39m\\u001b[33mbox_std_deseasonalized\\u001b[39m\\u001b[33m'\\u001b[39m] = box_df[\\u001b[33m'\\u001b[39m\\u001b[33mbox_std\\u001b[39m\\u001b[33m'\\u001b[39m]\\n\",\"\\u001b[36mFile \\u001b[39m\\u001b[32m/shared/eastSync/pyEast/pro_version/targetEngineer.py:281\\u001b[39m, in \\u001b[36mVolatilityRegimeEngineer._assign_regime_labels\\u001b[39m\\u001b[34m(self, X, box_df)\\u001b[39m\\n\\u001b[32m    278\\u001b[39m \\u001b[38;5;28;01mif\\u001b[39;00m fwd_end_pos <= idx_pos + \\u001b[32m1\\u001b[39m: \\u001b[38;5;28;01mcontinue\\u001b[39;00m\\n\\u001b[32m    280\\u001b[39m fwd_indices = X.index[idx_pos+\\u001b[32m1\\u001b[39m:fwd_end_pos]\\n\\u001b[32m--> \\u001b[39m\\u001b[32m281\\u001b[39m fwd_highs = \\u001b[43mhigh\\u001b[49m\\u001b[43m.\\u001b[49m\\u001b[43mloc\\u001b[49m\\u001b[43m[\\u001b[49m\\u001b[43mfwd_indices\\u001b[49m\\u001b[43m]\\u001b[49m\\n\\u001b[32m    282\\u001b[39m fwd_lows = low.loc[fwd_indices]\\n\\u001b[32m    283\\u001b[39m \\u001b[38;5;28;01mif\\u001b[39;00m fwd_highs.empty: \\u001b[38;5;28;01mcontinue\\u001b[39;00m\\n\",\"\\u001b[36mFile \\u001b[39m\\u001b[32m~/shared/eastSync/pyEast/pro_version/.venv/lib/python3.13/site-packages/pandas/core/indexing.py:1192\\u001b[39m, in \\u001b[36m_LocationIndexer.__getitem__\\u001b[39m\\u001b[34m(self, key)\\u001b[39m\\n\\u001b[32m   1190\\u001b[39m maybe_callable = com.apply_if_callable(key, \\u001b[38;5;28mself\\u001b[39m.obj)\\n\\u001b[32m   1191\\u001b[39m maybe_callable = \\u001b[38;5;28mself\\u001b[39m._check_deprecated_callable_usage(key, maybe_callable)\\n\\u001b[32m-> \\u001b[39m\\u001b[32m1192\\u001b[39m \\u001b[38;5;28;01mreturn\\u001b[39;00m \\u001b[38;5;28;43mself\\u001b[39;49m\\u001b[43m.\\u001b[49m\\u001b[43m_getitem_axis\\u001b[49m\\u001b[43m(\\u001b[49m\\u001b[43mmaybe_callable\\u001b[49m\\u001b[43m,\\u001b[49m\\u001b[43m \\u001b[49m\\u001b[43maxis\\u001b[49m\\u001b[43m=\\u001b[49m\\u001b[43maxis\\u001b[49m\\u001b[43m)\\u001b[49m\\n\",\"\\u001b[36mFile \\u001b[39m\\u001b[32m~/shared/eastSync/pyEast/pro_version/.venv/lib/python3.13/site-packages/pandas/core/indexing.py:1421\\u001b[39m, in \\u001b[36m_LocIndexer._getitem_axis\\u001b[39m\\u001b[34m(self, key, axis)\\u001b[39m\\n\\u001b[32m   1418\\u001b[39m     \\u001b[38;5;28;01mif\\u001b[39;00m \\u001b[38;5;28mhasattr\\u001b[39m(key, \\u001b[33m\\\"\\u001b[39m\\u001b[33mndim\\u001b[39m\\u001b[33m\\\"\\u001b[39m) \\u001b[38;5;129;01mand\\u001b[39;00m key.ndim > \\u001b[32m1\\u001b[39m:\\n\\u001b[32m   1419\\u001b[39m         \\u001b[38;5;28;01mraise\\u001b[39;00m \\u001b[38;5;167;01mValueError\\u001b[39;00m(\\u001b[33m\\\"\\u001b[39m\\u001b[33mCannot index with multidimensional key\\u001b[39m\\u001b[33m\\\"\\u001b[39m)\\n\\u001b[32m-> \\u001b[39m\\u001b[32m1421\\u001b[39m     \\u001b[38;5;28;01mreturn\\u001b[39;00m \\u001b[38;5;28;43mself\\u001b[39;49m\\u001b[43m.\\u001b[49m\\u001b[43m_getitem_iterable\\u001b[49m\\u001b[43m(\\u001b[49m\\u001b[43mkey\\u001b[49m\\u001b[43m,\\u001b[49m\\u001b[43m \\u001b[49m\\u001b[43maxis\\u001b[49m\\u001b[43m=\\u001b[49m\\u001b[43maxis\\u001b[49m\\u001b[43m)\\u001b[49m\\n\\u001b[32m   1423\\u001b[39m \\u001b[38;5;66;03m# nested tuple slicing\\u001b[39;00m\\n\\u001b[32m   1424\\u001b[39m \\u001b[38;5;28;01mif\\u001b[39;00m is_nested_tuple(key, labels):\\n\",\"\\u001b[36mFile \\u001b[39m\\u001b[32m~/shared/eastSync/pyEast/pro_version/.venv/lib/python3.13/site-packages/pandas/core/indexing.py:1361\\u001b[39m, in \\u001b[36m_LocIndexer._getitem_iterable\\u001b[39m\\u001b[34m(self, key, axis)\\u001b[39m\\n\\u001b[32m   1358\\u001b[39m \\u001b[38;5;28mself\\u001b[39m._validate_key(key, axis)\\n\\u001b[32m   1360\\u001b[39m \\u001b[38;5;66;03m# A collection of keys\\u001b[39;00m\\n\\u001b[32m-> \\u001b[39m\\u001b[32m1361\\u001b[39m keyarr, indexer = \\u001b[38;5;28;43mself\\u001b[39;49m\\u001b[43m.\\u001b[49m\\u001b[43m_get_listlike_indexer\\u001b[49m\\u001b[43m(\\u001b[49m\\u001b[43mkey\\u001b[49m\\u001b[43m,\\u001b[49m\\u001b[43m \\u001b[49m\\u001b[43maxis\\u001b[49m\\u001b[43m)\\u001b[49m\\n\\u001b[32m   1362\\u001b[39m \\u001b[38;5;28;01mreturn\\u001b[39;00m \\u001b[38;5;28mself\\u001b[39m.obj._reindex_with_indexers(\\n\\u001b[32m   1363\\u001b[39m     {axis: [keyarr, indexer]}, copy=\\u001b[38;5;28;01mTrue\\u001b[39;00m, allow_dups=\\u001b[38;5;28;01mTrue\\u001b[39;00m\\n\\u001b[32m   1364\\u001b[39m )\\n\",\"\\u001b[36mFile \\u001b[39m\\u001b[32m~/shared/eastSync/pyEast/pro_version/.venv/lib/python3.13/site-packages/pandas/core/indexing.py:1559\\u001b[39m, in \\u001b[36m_LocIndexer._get_listlike_indexer\\u001b[39m\\u001b[34m(self, key, axis)\\u001b[39m\\n\\u001b[32m   1556\\u001b[39m ax = \\u001b[38;5;28mself\\u001b[39m.obj._get_axis(axis)\\n\\u001b[32m   1557\\u001b[39m axis_name = \\u001b[38;5;28mself\\u001b[39m.obj._get_axis_name(axis)\\n\\u001b[32m-> \\u001b[39m\\u001b[32m1559\\u001b[39m keyarr, indexer = \\u001b[43max\\u001b[49m\\u001b[43m.\\u001b[49m\\u001b[43m_get_indexer_strict\\u001b[49m\\u001b[43m(\\u001b[49m\\u001b[43mkey\\u001b[49m\\u001b[43m,\\u001b[49m\\u001b[43m \\u001b[49m\\u001b[43maxis_name\\u001b[49m\\u001b[43m)\\u001b[49m\\n\\u001b[32m   1561\\u001b[39m \\u001b[38;5;28;01mreturn\\u001b[39;00m keyarr, indexer\\n\",\"\\u001b[36mFile \\u001b[39m\\u001b[32m~/shared/eastSync/pyEast/pro_version/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py:6207\\u001b[39m, in \\u001b[36mIndex._get_indexer_strict\\u001b[39m\\u001b[34m(self, key, axis_name)\\u001b[39m\\n\\u001b[32m   6204\\u001b[39m     keyarr = com.asarray_tuplesafe(keyarr)\\n\\u001b[32m   6206\\u001b[39m \\u001b[38;5;28;01mif\\u001b[39;00m \\u001b[38;5;28mself\\u001b[39m._index_as_unique:\\n\\u001b[32m-> \\u001b[39m\\u001b[32m6207\\u001b[39m     indexer = \\u001b[38;5;28;43mself\\u001b[39;49m\\u001b[43m.\\u001b[49m\\u001b[43mget_indexer_for\\u001b[49m\\u001b[43m(\\u001b[49m\\u001b[43mkeyarr\\u001b[49m\\u001b[43m)\\u001b[49m\\n\\u001b[32m   6208\\u001b[39m     keyarr = \\u001b[38;5;28mself\\u001b[39m.reindex(keyarr)[\\u001b[32m0\\u001b[39m]\\n\\u001b[32m   6209\\u001b[39m \\u001b[38;5;28;01melse\\u001b[39;00m:\\n\",\"\\u001b[36mFile \\u001b[39m\\u001b[32m~/shared/eastSync/pyEast/pro_version/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py:6194\\u001b[39m, in \\u001b[36mIndex.get_indexer_for\\u001b[39m\\u001b[34m(self, target)\\u001b[39m\\n\\u001b[32m   6176\\u001b[39m \\u001b[38;5;250m\\u001b[39m\\u001b[33;03m\\\"\\\"\\\"\\u001b[39;00m\\n\\u001b[32m   6177\\u001b[39m \\u001b[33;03mGuaranteed return of an indexer even when non-unique.\\u001b[39;00m\\n\\u001b[32m   6178\\u001b[39m \\n\\u001b[32m   (...)\\u001b[39m\\u001b[32m   6191\\u001b[39m \\u001b[33;03marray([0, 2])\\u001b[39;00m\\n\\u001b[32m   6192\\u001b[39m \\u001b[33;03m\\\"\\\"\\\"\\u001b[39;00m\\n\\u001b[32m   6193\\u001b[39m \\u001b[38;5;28;01mif\\u001b[39;00m \\u001b[38;5;28mself\\u001b[39m._index_as_unique:\\n\\u001b[32m-> \\u001b[39m\\u001b[32m6194\\u001b[39m     \\u001b[38;5;28;01mreturn\\u001b[39;00m \\u001b[38;5;28;43mself\\u001b[39;49m\\u001b[43m.\\u001b[49m\\u001b[43mget_indexer\\u001b[49m\\u001b[43m(\\u001b[49m\\u001b[43mtarget\\u001b[49m\\u001b[43m)\\u001b[49m\\n\\u001b[32m   6195\\u001b[39m indexer, _ = \\u001b[38;5;28mself\\u001b[39m.get_indexer_non_unique(target)\\n\\u001b[32m   6196\\u001b[39m \\u001b[38;5;28;01mreturn\\u001b[39;00m indexer\\n\",\"\\u001b[36mFile \\u001b[39m\\u001b[32m~/shared/eastSync/pyEast/pro_version/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py:3887\\u001b[39m, in \\u001b[36mIndex.get_indexer\\u001b[39m\\u001b[34m(self, target, method, limit, tolerance)\\u001b[39m\\n\\u001b[32m   3885\\u001b[39m method = clean_reindex_fill_method(method)\\n\\u001b[32m   3886\\u001b[39m orig_target = target\\n\\u001b[32m-> \\u001b[39m\\u001b[32m3887\\u001b[39m target = \\u001b[38;5;28;43mself\\u001b[39;49m\\u001b[43m.\\u001b[49m\\u001b[43m_maybe_cast_listlike_indexer\\u001b[49m\\u001b[43m(\\u001b[49m\\u001b[43mtarget\\u001b[49m\\u001b[43m)\\u001b[49m\\n\\u001b[32m   3889\\u001b[39m \\u001b[38;5;28mself\\u001b[39m._check_indexing_method(method, limit, tolerance)\\n\\u001b[32m   3891\\u001b[39m \\u001b[38;5;28;01mif\\u001b[39;00m \\u001b[38;5;129;01mnot\\u001b[39;00m \\u001b[38;5;28mself\\u001b[39m._index_as_unique:\\n\",\"\\u001b[36mFile \\u001b[39m\\u001b[32m~/shared/eastSync/pyEast/pro_version/.venv/lib/python3.13/site-packages/pandas/core/indexes/datetimelike.py:427\\u001b[39m, in \\u001b[36mDatetimeIndexOpsMixin._maybe_cast_listlike_indexer\\u001b[39m\\u001b[34m(self, keyarr)\\u001b[39m\\n\\u001b[32m    424\\u001b[39m         \\u001b[38;5;66;03m# TODO: com.asarray_tuplesafe shouldn't cast e.g. DatetimeArray\\u001b[39;00m\\n\\u001b[32m    425\\u001b[39m     \\u001b[38;5;28;01melse\\u001b[39;00m:\\n\\u001b[32m    426\\u001b[39m         res = keyarr\\n\\u001b[32m--> \\u001b[39m\\u001b[32m427\\u001b[39m \\u001b[38;5;28;01mreturn\\u001b[39;00m \\u001b[43mIndex\\u001b[49m\\u001b[43m(\\u001b[49m\\u001b[43mres\\u001b[49m\\u001b[43m,\\u001b[49m\\u001b[43m \\u001b[49m\\u001b[43mdtype\\u001b[49m\\u001b[43m=\\u001b[49m\\u001b[43mres\\u001b[49m\\u001b[43m.\\u001b[49m\\u001b[43mdtype\\u001b[49m\\u001b[43m)\\u001b[49m\\n\",\"\\u001b[36mFile \\u001b[39m\\u001b[32m~/shared/eastSync/pyEast/pro_version/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py:485\\u001b[39m, in \\u001b[36mIndex.__new__\\u001b[39m\\u001b[34m(cls, data, dtype, copy, name, tupleize_cols)\\u001b[39m\\n\\u001b[32m    475\\u001b[39m \\u001b[38;5;28;01mdef\\u001b[39;00m\\u001b[38;5;250m \\u001b[39m\\u001b[34m__new__\\u001b[39m(\\n\\u001b[32m    476\\u001b[39m     \\u001b[38;5;28mcls\\u001b[39m,\\n\\u001b[32m    477\\u001b[39m     data=\\u001b[38;5;28;01mNone\\u001b[39;00m,\\n\\u001b[32m   (...)\\u001b[39m\\u001b[32m    481\\u001b[39m     tupleize_cols: \\u001b[38;5;28mbool\\u001b[39m = \\u001b[38;5;28;01mTrue\\u001b[39;00m,\\n\\u001b[32m    482\\u001b[39m ) -> Self:\\n\\u001b[32m    483\\u001b[39m     \\u001b[38;5;28;01mfrom\\u001b[39;00m\\u001b[38;5;250m \\u001b[39m\\u001b[34;01mpandas\\u001b[39;00m\\u001b[34;01m.\\u001b[39;00m\\u001b[34;01mcore\\u001b[39;00m\\u001b[34;01m.\\u001b[39;00m\\u001b[34;01mindexes\\u001b[39;00m\\u001b[34;01m.\\u001b[39;00m\\u001b[34;01mrange\\u001b[39;00m\\u001b[38;5;250m \\u001b[39m\\u001b[38;5;28;01mimport\\u001b[39;00m RangeIndex\\n\\u001b[32m--> \\u001b[39m\\u001b[32m485\\u001b[39m     name = \\u001b[43mmaybe_extract_name\\u001b[49m\\u001b[43m(\\u001b[49m\\u001b[43mname\\u001b[49m\\u001b[43m,\\u001b[49m\\u001b[43m \\u001b[49m\\u001b[43mdata\\u001b[49m\\u001b[43m,\\u001b[49m\\u001b[43m \\u001b[49m\\u001b[38;5;28;43mcls\\u001b[39;49m\\u001b[43m)\\u001b[49m\\n\\u001b[32m    487\\u001b[39m     \\u001b[38;5;28;01mif\\u001b[39;00m dtype \\u001b[38;5;129;01mis\\u001b[39;00m \\u001b[38;5;129;01mnot\\u001b[39;00m \\u001b[38;5;28;01mNone\\u001b[39;00m:\\n\\u001b[32m    488\\u001b[39m         dtype = pandas_dtype(dtype)\\n\",\"\\u001b[36mFile \\u001b[39m\\u001b[32m~/shared/eastSync/pyEast/pro_version/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py:7758\\u001b[39m, in \\u001b[36mmaybe_extract_name\\u001b[39m\\u001b[34m(name, obj, cls)\\u001b[39m\\n\\u001b[32m   7754\\u001b[39m \\u001b[38;5;28;01mdef\\u001b[39;00m\\u001b[38;5;250m \\u001b[39m\\u001b[34mmaybe_extract_name\\u001b[39m(name, obj, \\u001b[38;5;28mcls\\u001b[39m) -> Hashable:\\n\\u001b[32m   7755\\u001b[39m \\u001b[38;5;250m    \\u001b[39m\\u001b[33;03m\\\"\\\"\\\"\\u001b[39;00m\\n\\u001b[32m   7756\\u001b[39m \\u001b[33;03m    If no name is passed, then extract it from data, validating hashability.\\u001b[39;00m\\n\\u001b[32m   7757\\u001b[39m \\u001b[33;03m    \\\"\\\"\\\"\\u001b[39;00m\\n\\u001b[32m-> \\u001b[39m\\u001b[32m7758\\u001b[39m     \\u001b[38;5;28;01mif\\u001b[39;00m name \\u001b[38;5;129;01mis\\u001b[39;00m \\u001b[38;5;28;01mNone\\u001b[39;00m \\u001b[38;5;129;01mand\\u001b[39;00m \\u001b[38;5;28;43misinstance\\u001b[39;49m\\u001b[43m(\\u001b[49m\\u001b[43mobj\\u001b[49m\\u001b[43m,\\u001b[49m\\u001b[43m \\u001b[49m\\u001b[43m(\\u001b[49m\\u001b[43mIndex\\u001b[49m\\u001b[43m,\\u001b[49m\\u001b[43m \\u001b[49m\\u001b[43mABCSeries\\u001b[49m\\u001b[43m)\\u001b[49m\\u001b[43m)\\u001b[49m:\\n\\u001b[32m   7759\\u001b[39m         \\u001b[38;5;66;03m# Note we don't just check for \\\"name\\\" attribute since that would\\u001b[39;00m\\n\\u001b[32m   7760\\u001b[39m         \\u001b[38;5;66;03m#  pick up e.g. dtype.name\\u001b[39;00m\\n\\u001b[32m   7761\\u001b[39m         name = obj.name\\n\\u001b[32m   7763\\u001b[39m     \\u001b[38;5;66;03m# GH#29069\\u001b[39;00m\\n\",\"\\u001b[36mFile \\u001b[39m\\u001b[32m~/shared/eastSync/pyEast/pro_version/.venv/lib/python3.13/site-packages/pandas/core/dtypes/generic.py:42\\u001b[39m, in \\u001b[36mcreate_pandas_abc_type.<locals>._instancecheck\\u001b[39m\\u001b[34m(cls, inst)\\u001b[39m\\n\\u001b[32m     38\\u001b[39m     \\u001b[38;5;28;01mreturn\\u001b[39;00m \\u001b[38;5;28mgetattr\\u001b[39m(inst, attr, \\u001b[33m\\\"\\u001b[39m\\u001b[33m_typ\\u001b[39m\\u001b[33m\\\"\\u001b[39m) \\u001b[38;5;129;01min\\u001b[39;00m comp\\n\\u001b[32m     40\\u001b[39m \\u001b[38;5;66;03m# https://github.com/python/mypy/issues/1006\\u001b[39;00m\\n\\u001b[32m     41\\u001b[39m \\u001b[38;5;66;03m# error: 'classmethod' used with a non-method\\u001b[39;00m\\n\\u001b[32m---> \\u001b[39m\\u001b[32m42\\u001b[39m \\u001b[38;5;129m@classmethod\\u001b[39m  \\u001b[38;5;66;03m# type: ignore[misc]\\u001b[39;00m\\n\\u001b[32m     43\\u001b[39m \\u001b[38;5;28;01mdef\\u001b[39;00m\\u001b[38;5;250m \\u001b[39m\\u001b[34m_instancecheck\\u001b[39m(\\u001b[38;5;28mcls\\u001b[39m, inst) -> \\u001b[38;5;28mbool\\u001b[39m:\\n\\u001b[32m     44\\u001b[39m     \\u001b[38;5;28;01mreturn\\u001b[39;00m _check(inst) \\u001b[38;5;129;01mand\\u001b[39;00m \\u001b[38;5;129;01mnot\\u001b[39;00m \\u001b[38;5;28misinstance\\u001b[39m(inst, \\u001b[38;5;28mtype\\u001b[39m)\\n\\u001b[32m     46\\u001b[39m \\u001b[38;5;129m@classmethod\\u001b[39m  \\u001b[38;5;66;03m# type: ignore[misc]\\u001b[39;00m\\n\\u001b[32m     47\\u001b[39m \\u001b[38;5;28;01mdef\\u001b[39;00m\\u001b[38;5;250m \\u001b[39m\\u001b[34m_subclasscheck\\u001b[39m(\\u001b[38;5;28mcls\\u001b[39m, inst) -> \\u001b[38;5;28mbool\\u001b[39m:\\n\\u001b[32m     48\\u001b[39m     \\u001b[38;5;66;03m# Raise instead of returning False\\u001b[39;00m\\n\\u001b[32m     49\\u001b[39m     \\u001b[38;5;66;03m# This is consistent with default __subclasscheck__ behavior\\u001b[39;00m\\n\",\"\\u001b[31mKeyboardInterrupt\\u001b[39m: \"]}},\"outputs\":[{\"data\":{\"type\":\"ArrayBuffer-4f56482b-5a03-49ba-8356-210d3b0c1c3d\",\"data\":\"ewoJIm5hbWUiOiAiS2V5Ym9hcmRJbnRlcnJ1cHQiLAoJIm1lc3NhZ2UiOiAiIiwKCSJzdGFjayI6ICJcdTAwMWJbMzFtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHUwMDFiWzM5bVxuXHUwMDFiWzMxbUtleWJvYXJkSW50ZXJydXB0XHUwMDFiWzM5bSAgICAgICAgICAgICAgICAgICAgICAgICBUcmFjZWJhY2sgKG1vc3QgcmVjZW50IGNhbGwgbGFzdClcblx1MDAxYlszNm1DZWxsXHUwMDFiWzM5bVx1MDAxYlszNm0gXHUwMDFiWzM5bVx1MDAxYlszMm1JblsyXVx1MDAxYlszOW1cdTAwMWJbMzJtLCBsaW5lIDkzXHUwMDFiWzM5bVxuXHUwMDFiWzMybSAgICAgOTFcdTAwMWJbMzltIFx1MDAxYlszODs1OzY2OzAzbSMgUnVuIEZpdC9UcmFuc2Zvcm1cdTAwMWJbMzk7MDBtXG5cdTAwMWJbMzJtICAgICA5Mlx1MDAxYlszOW0gcmVnaW1lX2VuZ2luZWVyLmZpdChkZl90cmFpbilcblx1MDAxYlszMm0tLS0+IFx1MDAxYlszOW1cdTAwMWJbMzJtOTNcdTAwMWJbMzltIHRhcmdldHMgPSBcdTAwMWJbNDNtcmVnaW1lX2VuZ2luZWVyXHUwMDFiWzQ5bVx1MDAxYls0M20uXHUwMDFiWzQ5bVx1MDAxYls0M210cmFuc2Zvcm1cdTAwMWJbNDltXHUwMDFiWzQzbShcdTAwMWJbNDltXHUwMDFiWzQzbWRmX3RyYWluXHUwMDFiWzQ5bVx1MDAxYls0M20pXHUwMDFiWzQ5bVxuXHUwMDFiWzMybSAgICAgOTVcdTAwMWJbMzltIFx1MDAxYlszODs1OzY2OzAzbSMgQ2hlY2sgdGhlIGRpc3RyaWJ1dGlvblx1MDAxYlszOTswMG1cblx1MDAxYlszMm0gICAgIDk2XHUwMDFiWzM5bSBkaXN0ID0gcmVnaW1lX2VuZ2luZWVyLmdldF9yZWdpbWVfZGlzdHJpYnV0aW9uKGRmX3RyYWluKVxuXG5cdTAwMWJbMzZtRmlsZSBcdTAwMWJbMzltXHUwMDFiWzMybX4vc2hhcmVkL2Vhc3RTeW5jL3B5RWFzdC9wcm9fdmVyc2lvbi8udmVudi9saWIvcHl0aG9uMy4xMy9zaXRlLXBhY2thZ2VzL3NrbGVhcm4vdXRpbHMvX3NldF9vdXRwdXQucHk6MzE2XHUwMDFiWzM5bSwgaW4gXHUwMDFiWzM2bV93cmFwX21ldGhvZF9vdXRwdXQuPGxvY2Fscz4ud3JhcHBlZFx1MDAxYlszOW1cdTAwMWJbMzRtKHNlbGYsIFgsICphcmdzLCAqKmt3YXJncylcdTAwMWJbMzltXG5cdTAwMWJbMzJtICAgIDMxNFx1MDAxYlszOW0gXHUwMDFiWzM4OzU7MTI5bUB3cmFwc1x1MDAxYlszOW0oZilcblx1MDAxYlszMm0gICAgMzE1XHUwMDFiWzM5bSBcdTAwMWJbMzg7NTsyODswMW1kZWZcdTAwMWJbMzk7MDBtXHUwMDFiWzM4OzU7MjUwbSBcdTAwMWJbMzltXHUwMDFiWzM0bXdyYXBwZWRcdTAwMWJbMzltKFx1MDAxYlszODs1OzI4bXNlbGZcdTAwMWJbMzltLCBYLCAqYXJncywgKiprd2FyZ3MpOlxuXHUwMDFiWzMybS0tPiBcdTAwMWJbMzltXHUwMDFiWzMybTMxNlx1MDAxYlszOW0gICAgIGRhdGFfdG9fd3JhcCA9IFx1MDAxYls0M21mXHUwMDFiWzQ5bVx1MDAxYls0M20oXHUwMDFiWzQ5bVx1MDAxYlszODs1OzI4OzQzbXNlbGZcdTAwMWJbMzk7NDltXHUwMDFiWzQzbSxcdTAwMWJbNDltXHUwMDFiWzQzbSBcdTAwMWJbNDltXHUwMDFiWzQzbVhcdTAwMWJbNDltXHUwMDFiWzQzbSxcdTAwMWJbNDltXHUwMDFiWzQzbSBcdTAwMWJbNDltXHUwMDFiWzQzbSpcdTAwMWJbNDltXHUwMDFiWzQzbWFyZ3NcdTAwMWJbNDltXHUwMDFiWzQzbSxcdTAwMWJbNDltXHUwMDFiWzQzbSBcdTAwMWJbNDltXHUwMDFiWzQzbSpcdTAwMWJbNDltXHUwMDFiWzQzbSpcdTAwMWJbNDltXHUwMDFiWzQzbWt3YXJnc1x1MDAxYls0OW1cdTAwMWJbNDNtKVx1MDAxYls0OW1cblx1MDAxYlszMm0gICAgMzE3XHUwMDFiWzM5bSAgICAgXHUwMDFiWzM4OzU7Mjg7MDFtaWZcdTAwMWJbMzk7MDBtIFx1MDAxYlszODs1OzI4bWlzaW5zdGFuY2VcdTAwMWJbMzltKGRhdGFfdG9fd3JhcCwgXHUwMDFiWzM4OzU7MjhtdHVwbGVcdTAwMWJbMzltKTpcblx1MDAxYlszMm0gICAgMzE4XHUwMDFiWzM5bSAgICAgICAgIFx1MDAxYlszODs1OzY2OzAzbSMgb25seSB3cmFwIHRoZSBmaXJzdCBvdXRwdXQgZm9yIGNyb3NzIGRlY29tcG9zaXRpb25cdTAwMWJbMzk7MDBtXG5cdTAwMWJbMzJtICAgIDMxOVx1MDAxYlszOW0gICAgICAgICByZXR1cm5fdHVwbGUgPSAoXG5cdTAwMWJbMzJtICAgIDMyMFx1MDAxYlszOW0gICAgICAgICAgICAgX3dyYXBfZGF0YV93aXRoX2NvbnRhaW5lcihtZXRob2QsIGRhdGFfdG9fd3JhcFtcdTAwMWJbMzJtMFx1MDAxYlszOW1dLCBYLCBcdTAwMWJbMzg7NTsyOG1zZWxmXHUwMDFiWzM5bSksXG5cdTAwMWJbMzJtICAgIDMyMVx1MDAxYlszOW0gICAgICAgICAgICAgKmRhdGFfdG9fd3JhcFtcdTAwMWJbMzJtMVx1MDAxYlszOW06XSxcblx1MDAxYlszMm0gICAgMzIyXHUwMDFiWzM5bSAgICAgICAgIClcblxuXHUwMDFiWzM2bUZpbGUgXHUwMDFiWzM5bVx1MDAxYlszMm0vc2hhcmVkL2Vhc3RTeW5jL3B5RWFzdC9wcm9fdmVyc2lvbi90YXJnZXRFbmdpbmVlci5weTozNDNcdTAwMWJbMzltLCBpbiBcdTAwMWJbMzZtVm9sYXRpbGl0eVJlZ2ltZUVuZ2luZWVyLnRyYW5zZm9ybVx1MDAxYlszOW1cdTAwMWJbMzRtKHNlbGYsIFgpXHUwMDFiWzM5bVxuXHUwMDFiWzMybSAgICAzNDFcdTAwMWJbMzltIGNoZWNrX2lzX2ZpdHRlZChcdTAwMWJbMzg7NTsyOG1zZWxmXHUwMDFiWzM5bSwgXHUwMDFiWzMzbSdcdTAwMWJbMzltXHUwMDFiWzMzbV9zZWFzb25hbF92b2xfbG9va3VwXHUwMDFiWzM5bVx1MDAxYlszM20nXHUwMDFiWzM5bSlcblx1MDAxYlszMm0gICAgMzQyXHUwMDFiWzM5bSBib3hfZGYgPSBcdTAwMWJbMzg7NTsyOG1zZWxmXHUwMDFiWzM5bS5fY2FsY3VsYXRlX2xvb2tiYWNrX2JveChYKVxuXHUwMDFiWzMybS0tPiBcdTAwMWJbMzltXHUwMDFiWzMybTM0M1x1MDAxYlszOW0gcmVzdWx0cyA9IFx1MDAxYlszODs1OzI4OzQzbXNlbGZcdTAwMWJbMzk7NDltXHUwMDFiWzQzbS5cdTAwMWJbNDltXHUwMDFiWzQzbV9hc3NpZ25fcmVnaW1lX2xhYmVsc1x1MDAxYls0OW1cdTAwMWJbNDNtKFx1MDAxYls0OW1cdTAwMWJbNDNtWFx1MDAxYls0OW1cdTAwMWJbNDNtLFx1MDAxYls0OW1cdTAwMWJbNDNtIFx1MDAxYls0OW1cdTAwMWJbNDNtYm94X2RmXHUwMDFiWzQ5bVx1MDAxYls0M20pXHUwMDFiWzQ5bVxuXHUwMDFiWzMybSAgICAzNDVcdTAwMWJbMzltIG91dHB1dCA9IHJlc3VsdHMuY29weSgpXG5cdTAwMWJbMzJtICAgIDM0Nlx1MDAxYlszOW0gb3V0cHV0W1x1MDAxYlszM20nXHUwMDFiWzM5bVx1MDAxYlszM21ib3hfc3RkX2Rlc2Vhc29uYWxpemVkXHUwMDFiWzM5bVx1MDAxYlszM20nXHUwMDFiWzM5bV0gPSBib3hfZGZbXHUwMDFiWzMzbSdcdTAwMWJbMzltXHUwMDFiWzMzbWJveF9zdGRcdTAwMWJbMzltXHUwMDFiWzMzbSdcdTAwMWJbMzltXVxuXG5cdTAwMWJbMzZtRmlsZSBcdTAwMWJbMzltXHUwMDFiWzMybS9zaGFyZWQvZWFzdFN5bmMvcHlFYXN0L3Byb192ZXJzaW9uL3RhcmdldEVuZ2luZWVyLnB5OjI4MVx1MDAxYlszOW0sIGluIFx1MDAxYlszNm1Wb2xhdGlsaXR5UmVnaW1lRW5naW5lZXIuX2Fzc2lnbl9yZWdpbWVfbGFiZWxzXHUwMDFiWzM5bVx1MDAxYlszNG0oc2VsZiwgWCwgYm94X2RmKVx1MDAxYlszOW1cblx1MDAxYlszMm0gICAgMjc4XHUwMDFiWzM5bSBcdTAwMWJbMzg7NTsyODswMW1pZlx1MDAxYlszOTswMG0gZndkX2VuZF9wb3MgPD0gaWR4X3BvcyArIFx1MDAxYlszMm0xXHUwMDFiWzM5bTogXHUwMDFiWzM4OzU7Mjg7MDFtY29udGludWVcdTAwMWJbMzk7MDBtXG5cdTAwMWJbMzJtICAgIDI4MFx1MDAxYlszOW0gZndkX2luZGljZXMgPSBYLmluZGV4W2lkeF9wb3MrXHUwMDFiWzMybTFcdTAwMWJbMzltOmZ3ZF9lbmRfcG9zXVxuXHUwMDFiWzMybS0tPiBcdTAwMWJbMzltXHUwMDFiWzMybTI4MVx1MDAxYlszOW0gZndkX2hpZ2hzID0gXHUwMDFiWzQzbWhpZ2hcdTAwMWJbNDltXHUwMDFiWzQzbS5cdTAwMWJbNDltXHUwMDFiWzQzbWxvY1x1MDAxYls0OW1cdTAwMWJbNDNtW1x1MDAxYls0OW1cdTAwMWJbNDNtZndkX2luZGljZXNcdTAwMWJbNDltXHUwMDFiWzQzbV1cdTAwMWJbNDltXG5cdTAwMWJbMzJtICAgIDI4Mlx1MDAxYlszOW0gZndkX2xvd3MgPSBsb3cubG9jW2Z3ZF9pbmRpY2VzXVxuXHUwMDFiWzMybSAgICAyODNcdTAwMWJbMzltIFx1MDAxYlszODs1OzI4OzAxbWlmXHUwMDFiWzM5OzAwbSBmd2RfaGlnaHMuZW1wdHk6IFx1MDAxYlszODs1OzI4OzAxbWNvbnRpbnVlXHUwMDFiWzM5OzAwbVxuXG5cdTAwMWJbMzZtRmlsZSBcdTAwMWJbMzltXHUwMDFiWzMybX4vc2hhcmVkL2Vhc3RTeW5jL3B5RWFzdC9wcm9fdmVyc2lvbi8udmVudi9saWIvcHl0aG9uMy4xMy9zaXRlLXBhY2thZ2VzL3BhbmRhcy9jb3JlL2luZGV4aW5nLnB5OjExOTJcdTAwMWJbMzltLCBpbiBcdTAwMWJbMzZtX0xvY2F0aW9uSW5kZXhlci5fX2dldGl0ZW1fX1x1MDAxYlszOW1cdTAwMWJbMzRtKHNlbGYsIGtleSlcdTAwMWJbMzltXG5cdTAwMWJbMzJtICAgMTE5MFx1MDAxYlszOW0gbWF5YmVfY2FsbGFibGUgPSBjb20uYXBwbHlfaWZfY2FsbGFibGUoa2V5LCBcdTAwMWJbMzg7NTsyOG1zZWxmXHUwMDFiWzM5bS5vYmopXG5cdTAwMWJbMzJtICAgMTE5MVx1MDAxYlszOW0gbWF5YmVfY2FsbGFibGUgPSBcdTAwMWJbMzg7NTsyOG1zZWxmXHUwMDFiWzM5bS5fY2hlY2tfZGVwcmVjYXRlZF9jYWxsYWJsZV91c2FnZShrZXksIG1heWJlX2NhbGxhYmxlKVxuXHUwMDFiWzMybS0+IFx1MDAxYlszOW1cdTAwMWJbMzJtMTE5Mlx1MDAxYlszOW0gXHUwMDFiWzM4OzU7Mjg7MDFtcmV0dXJuXHUwMDFiWzM5OzAwbSBcdTAwMWJbMzg7NTsyODs0M21zZWxmXHUwMDFiWzM5OzQ5bVx1MDAxYls0M20uXHUwMDFiWzQ5bVx1MDAxYls0M21fZ2V0aXRlbV9heGlzXHUwMDFiWzQ5bVx1MDAxYls0M20oXHUwMDFiWzQ5bVx1MDAxYls0M21tYXliZV9jYWxsYWJsZVx1MDAxYls0OW1cdTAwMWJbNDNtLFx1MDAxYls0OW1cdTAwMWJbNDNtIFx1MDAxYls0OW1cdTAwMWJbNDNtYXhpc1x1MDAxYls0OW1cdTAwMWJbNDNtPVx1MDAxYls0OW1cdTAwMWJbNDNtYXhpc1x1MDAxYls0OW1cdTAwMWJbNDNtKVx1MDAxYls0OW1cblxuXHUwMDFiWzM2bUZpbGUgXHUwMDFiWzM5bVx1MDAxYlszMm1+L3NoYXJlZC9lYXN0U3luYy9weUVhc3QvcHJvX3ZlcnNpb24vLnZlbnYvbGliL3B5dGhvbjMuMTMvc2l0ZS1wYWNrYWdlcy9wYW5kYXMvY29yZS9pbmRleGluZy5weToxNDIxXHUwMDFiWzM5bSwgaW4gXHUwMDFiWzM2bV9Mb2NJbmRleGVyLl9nZXRpdGVtX2F4aXNcdTAwMWJbMzltXHUwMDFiWzM0bShzZWxmLCBrZXksIGF4aXMpXHUwMDFiWzM5bVxuXHUwMDFiWzMybSAgIDE0MThcdTAwMWJbMzltICAgICBcdTAwMWJbMzg7NTsyODswMW1pZlx1MDAxYlszOTswMG0gXHUwMDFiWzM4OzU7MjhtaGFzYXR0clx1MDAxYlszOW0oa2V5LCBcdTAwMWJbMzNtXCJcdTAwMWJbMzltXHUwMDFiWzMzbW5kaW1cdTAwMWJbMzltXHUwMDFiWzMzbVwiXHUwMDFiWzM5bSkgXHUwMDFiWzM4OzU7MTI5OzAxbWFuZFx1MDAxYlszOTswMG0ga2V5Lm5kaW0gPiBcdTAwMWJbMzJtMVx1MDAxYlszOW06XG5cdTAwMWJbMzJtICAgMTQxOVx1MDAxYlszOW0gICAgICAgICBcdTAwMWJbMzg7NTsyODswMW1yYWlzZVx1MDAxYlszOTswMG0gXHUwMDFiWzM4OzU7MTY3OzAxbVZhbHVlRXJyb3JcdTAwMWJbMzk7MDBtKFx1MDAxYlszM21cIlx1MDAxYlszOW1cdTAwMWJbMzNtQ2Fubm90IGluZGV4IHdpdGggbXVsdGlkaW1lbnNpb25hbCBrZXlcdTAwMWJbMzltXHUwMDFiWzMzbVwiXHUwMDFiWzM5bSlcblx1MDAxYlszMm0tPiBcdTAwMWJbMzltXHUwMDFiWzMybTE0MjFcdTAwMWJbMzltICAgICBcdTAwMWJbMzg7NTsyODswMW1yZXR1cm5cdTAwMWJbMzk7MDBtIFx1MDAxYlszODs1OzI4OzQzbXNlbGZcdTAwMWJbMzk7NDltXHUwMDFiWzQzbS5cdTAwMWJbNDltXHUwMDFiWzQzbV9nZXRpdGVtX2l0ZXJhYmxlXHUwMDFiWzQ5bVx1MDAxYls0M20oXHUwMDFiWzQ5bVx1MDAxYls0M21rZXlcdTAwMWJbNDltXHUwMDFiWzQzbSxcdTAwMWJbNDltXHUwMDFiWzQzbSBcdTAwMWJbNDltXHUwMDFiWzQzbWF4aXNcdTAwMWJbNDltXHUwMDFiWzQzbT1cdTAwMWJbNDltXHUwMDFiWzQzbWF4aXNcdTAwMWJbNDltXHUwMDFiWzQzbSlcdTAwMWJbNDltXG5cdTAwMWJbMzJtICAgMTQyM1x1MDAxYlszOW0gXHUwMDFiWzM4OzU7NjY7MDNtIyBuZXN0ZWQgdHVwbGUgc2xpY2luZ1x1MDAxYlszOTswMG1cblx1MDAxYlszMm0gICAxNDI0XHUwMDFiWzM5bSBcdTAwMWJbMzg7NTsyODswMW1pZlx1MDAxYlszOTswMG0gaXNfbmVzdGVkX3R1cGxlKGtleSwgbGFiZWxzKTpcblxuXHUwMDFiWzM2bUZpbGUgXHUwMDFiWzM5bVx1MDAxYlszMm1+L3NoYXJlZC9lYXN0U3luYy9weUVhc3QvcHJvX3ZlcnNpb24vLnZlbnYvbGliL3B5dGhvbjMuMTMvc2l0ZS1wYWNrYWdlcy9wYW5kYXMvY29yZS9pbmRleGluZy5weToxMzYxXHUwMDFiWzM5bSwgaW4gXHUwMDFiWzM2bV9Mb2NJbmRleGVyLl9nZXRpdGVtX2l0ZXJhYmxlXHUwMDFiWzM5bVx1MDAxYlszNG0oc2VsZiwga2V5LCBheGlzKVx1MDAxYlszOW1cblx1MDAxYlszMm0gICAxMzU4XHUwMDFiWzM5bSBcdTAwMWJbMzg7NTsyOG1zZWxmXHUwMDFiWzM5bS5fdmFsaWRhdGVfa2V5KGtleSwgYXhpcylcblx1MDAxYlszMm0gICAxMzYwXHUwMDFiWzM5bSBcdTAwMWJbMzg7NTs2NjswM20jIEEgY29sbGVjdGlvbiBvZiBrZXlzXHUwMDFiWzM5OzAwbVxuXHUwMDFiWzMybS0+IFx1MDAxYlszOW1cdTAwMWJbMzJtMTM2MVx1MDAxYlszOW0ga2V5YXJyLCBpbmRleGVyID0gXHUwMDFiWzM4OzU7Mjg7NDNtc2VsZlx1MDAxYlszOTs0OW1cdTAwMWJbNDNtLlx1MDAxYls0OW1cdTAwMWJbNDNtX2dldF9saXN0bGlrZV9pbmRleGVyXHUwMDFiWzQ5bVx1MDAxYls0M20oXHUwMDFiWzQ5bVx1MDAxYls0M21rZXlcdTAwMWJbNDltXHUwMDFiWzQzbSxcdTAwMWJbNDltXHUwMDFiWzQzbSBcdTAwMWJbNDltXHUwMDFiWzQzbWF4aXNcdTAwMWJbNDltXHUwMDFiWzQzbSlcdTAwMWJbNDltXG5cdTAwMWJbMzJtICAgMTM2Mlx1MDAxYlszOW0gXHUwMDFiWzM4OzU7Mjg7MDFtcmV0dXJuXHUwMDFiWzM5OzAwbSBcdTAwMWJbMzg7NTsyOG1zZWxmXHUwMDFiWzM5bS5vYmouX3JlaW5kZXhfd2l0aF9pbmRleGVycyhcblx1MDAxYlszMm0gICAxMzYzXHUwMDFiWzM5bSAgICAge2F4aXM6IFtrZXlhcnIsIGluZGV4ZXJdfSwgY29weT1cdTAwMWJbMzg7NTsyODswMW1UcnVlXHUwMDFiWzM5OzAwbSwgYWxsb3dfZHVwcz1cdTAwMWJbMzg7NTsyODswMW1UcnVlXHUwMDFiWzM5OzAwbVxuXHUwMDFiWzMybSAgIDEzNjRcdTAwMWJbMzltIClcblxuXHUwMDFiWzM2bUZpbGUgXHUwMDFiWzM5bVx1MDAxYlszMm1+L3NoYXJlZC9lYXN0U3luYy9weUVhc3QvcHJvX3ZlcnNpb24vLnZlbnYvbGliL3B5dGhvbjMuMTMvc2l0ZS1wYWNrYWdlcy9wYW5kYXMvY29yZS9pbmRleGluZy5weToxNTU5XHUwMDFiWzM5bSwgaW4gXHUwMDFiWzM2bV9Mb2NJbmRleGVyLl9nZXRfbGlzdGxpa2VfaW5kZXhlclx1MDAxYlszOW1cdTAwMWJbMzRtKHNlbGYsIGtleSwgYXhpcylcdTAwMWJbMzltXG5cdTAwMWJbMzJtICAgMTU1Nlx1MDAxYlszOW0gYXggPSBcdTAwMWJbMzg7NTsyOG1zZWxmXHUwMDFiWzM5bS5vYmouX2dldF9heGlzKGF4aXMpXG5cdTAwMWJbMzJtICAgMTU1N1x1MDAxYlszOW0gYXhpc19uYW1lID0gXHUwMDFiWzM4OzU7Mjhtc2VsZlx1MDAxYlszOW0ub2JqLl9nZXRfYXhpc19uYW1lKGF4aXMpXG5cdTAwMWJbMzJtLT4gXHUwMDFiWzM5bVx1MDAxYlszMm0xNTU5XHUwMDFiWzM5bSBrZXlhcnIsIGluZGV4ZXIgPSBcdTAwMWJbNDNtYXhcdTAwMWJbNDltXHUwMDFiWzQzbS5cdTAwMWJbNDltXHUwMDFiWzQzbV9nZXRfaW5kZXhlcl9zdHJpY3RcdTAwMWJbNDltXHUwMDFiWzQzbShcdTAwMWJbNDltXHUwMDFiWzQzbWtleVx1MDAxYls0OW1cdTAwMWJbNDNtLFx1MDAxYls0OW1cdTAwMWJbNDNtIFx1MDAxYls0OW1cdTAwMWJbNDNtYXhpc19uYW1lXHUwMDFiWzQ5bVx1MDAxYls0M20pXHUwMDFiWzQ5bVxuXHUwMDFiWzMybSAgIDE1NjFcdTAwMWJbMzltIFx1MDAxYlszODs1OzI4OzAxbXJldHVyblx1MDAxYlszOTswMG0ga2V5YXJyLCBpbmRleGVyXG5cblx1MDAxYlszNm1GaWxlIFx1MDAxYlszOW1cdTAwMWJbMzJtfi9zaGFyZWQvZWFzdFN5bmMvcHlFYXN0L3Byb192ZXJzaW9uLy52ZW52L2xpYi9weXRob24zLjEzL3NpdGUtcGFja2FnZXMvcGFuZGFzL2NvcmUvaW5kZXhlcy9iYXNlLnB5OjYyMDdcdTAwMWJbMzltLCBpbiBcdTAwMWJbMzZtSW5kZXguX2dldF9pbmRleGVyX3N0cmljdFx1MDAxYlszOW1cdTAwMWJbMzRtKHNlbGYsIGtleSwgYXhpc19uYW1lKVx1MDAxYlszOW1cblx1MDAxYlszMm0gICA2MjA0XHUwMDFiWzM5bSAgICAga2V5YXJyID0gY29tLmFzYXJyYXlfdHVwbGVzYWZlKGtleWFycilcblx1MDAxYlszMm0gICA2MjA2XHUwMDFiWzM5bSBcdTAwMWJbMzg7NTsyODswMW1pZlx1MDAxYlszOTswMG0gXHUwMDFiWzM4OzU7Mjhtc2VsZlx1MDAxYlszOW0uX2luZGV4X2FzX3VuaXF1ZTpcblx1MDAxYlszMm0tPiBcdTAwMWJbMzltXHUwMDFiWzMybTYyMDdcdTAwMWJbMzltICAgICBpbmRleGVyID0gXHUwMDFiWzM4OzU7Mjg7NDNtc2VsZlx1MDAxYlszOTs0OW1cdTAwMWJbNDNtLlx1MDAxYls0OW1cdTAwMWJbNDNtZ2V0X2luZGV4ZXJfZm9yXHUwMDFiWzQ5bVx1MDAxYls0M20oXHUwMDFiWzQ5bVx1MDAxYls0M21rZXlhcnJcdTAwMWJbNDltXHUwMDFiWzQzbSlcdTAwMWJbNDltXG5cdTAwMWJbMzJtICAgNjIwOFx1MDAxYlszOW0gICAgIGtleWFyciA9IFx1MDAxYlszODs1OzI4bXNlbGZcdTAwMWJbMzltLnJlaW5kZXgoa2V5YXJyKVtcdTAwMWJbMzJtMFx1MDAxYlszOW1dXG5cdTAwMWJbMzJtICAgNjIwOVx1MDAxYlszOW0gXHUwMDFiWzM4OzU7Mjg7MDFtZWxzZVx1MDAxYlszOTswMG06XG5cblx1MDAxYlszNm1GaWxlIFx1MDAxYlszOW1cdTAwMWJbMzJtfi9zaGFyZWQvZWFzdFN5bmMvcHlFYXN0L3Byb192ZXJzaW9uLy52ZW52L2xpYi9weXRob24zLjEzL3NpdGUtcGFja2FnZXMvcGFuZGFzL2NvcmUvaW5kZXhlcy9iYXNlLnB5OjYxOTRcdTAwMWJbMzltLCBpbiBcdTAwMWJbMzZtSW5kZXguZ2V0X2luZGV4ZXJfZm9yXHUwMDFiWzM5bVx1MDAxYlszNG0oc2VsZiwgdGFyZ2V0KVx1MDAxYlszOW1cblx1MDAxYlszMm0gICA2MTc2XHUwMDFiWzM5bSBcdTAwMWJbMzg7NTsyNTBtXHUwMDFiWzM5bVx1MDAxYlszMzswM21cIlwiXCJcdTAwMWJbMzk7MDBtXG5cdTAwMWJbMzJtICAgNjE3N1x1MDAxYlszOW0gXHUwMDFiWzMzOzAzbUd1YXJhbnRlZWQgcmV0dXJuIG9mIGFuIGluZGV4ZXIgZXZlbiB3aGVuIG5vbi11bmlxdWUuXHUwMDFiWzM5OzAwbVxuXHUwMDFiWzMybSAgIDYxNzhcdTAwMWJbMzltIFxuXHUwMDFiWzMybSAgICguLi4pXHUwMDFiWzM5bVx1MDAxYlszMm0gICA2MTkxXHUwMDFiWzM5bSBcdTAwMWJbMzM7MDNtYXJyYXkoWzAsIDJdKVx1MDAxYlszOTswMG1cblx1MDAxYlszMm0gICA2MTkyXHUwMDFiWzM5bSBcdTAwMWJbMzM7MDNtXCJcIlwiXHUwMDFiWzM5OzAwbVxuXHUwMDFiWzMybSAgIDYxOTNcdTAwMWJbMzltIFx1MDAxYlszODs1OzI4OzAxbWlmXHUwMDFiWzM5OzAwbSBcdTAwMWJbMzg7NTsyOG1zZWxmXHUwMDFiWzM5bS5faW5kZXhfYXNfdW5pcXVlOlxuXHUwMDFiWzMybS0+IFx1MDAxYlszOW1cdTAwMWJbMzJtNjE5NFx1MDAxYlszOW0gICAgIFx1MDAxYlszODs1OzI4OzAxbXJldHVyblx1MDAxYlszOTswMG0gXHUwMDFiWzM4OzU7Mjg7NDNtc2VsZlx1MDAxYlszOTs0OW1cdTAwMWJbNDNtLlx1MDAxYls0OW1cdTAwMWJbNDNtZ2V0X2luZGV4ZXJcdTAwMWJbNDltXHUwMDFiWzQzbShcdTAwMWJbNDltXHUwMDFiWzQzbXRhcmdldFx1MDAxYls0OW1cdTAwMWJbNDNtKVx1MDAxYls0OW1cblx1MDAxYlszMm0gICA2MTk1XHUwMDFiWzM5bSBpbmRleGVyLCBfID0gXHUwMDFiWzM4OzU7Mjhtc2VsZlx1MDAxYlszOW0uZ2V0X2luZGV4ZXJfbm9uX3VuaXF1ZSh0YXJnZXQpXG5cdTAwMWJbMzJtICAgNjE5Nlx1MDAxYlszOW0gXHUwMDFiWzM4OzU7Mjg7MDFtcmV0dXJuXHUwMDFiWzM5OzAwbSBpbmRleGVyXG5cblx1MDAxYlszNm1GaWxlIFx1MDAxYlszOW1cdTAwMWJbMzJtfi9zaGFyZWQvZWFzdFN5bmMvcHlFYXN0L3Byb192ZXJzaW9uLy52ZW52L2xpYi9weXRob24zLjEzL3NpdGUtcGFja2FnZXMvcGFuZGFzL2NvcmUvaW5kZXhlcy9iYXNlLnB5OjM4ODdcdTAwMWJbMzltLCBpbiBcdTAwMWJbMzZtSW5kZXguZ2V0X2luZGV4ZXJcdTAwMWJbMzltXHUwMDFiWzM0bShzZWxmLCB0YXJnZXQsIG1ldGhvZCwgbGltaXQsIHRvbGVyYW5jZSlcdTAwMWJbMzltXG5cdTAwMWJbMzJtICAgMzg4NVx1MDAxYlszOW0gbWV0aG9kID0gY2xlYW5fcmVpbmRleF9maWxsX21ldGhvZChtZXRob2QpXG5cdTAwMWJbMzJtICAgMzg4Nlx1MDAxYlszOW0gb3JpZ190YXJnZXQgPSB0YXJnZXRcblx1MDAxYlszMm0tPiBcdTAwMWJbMzltXHUwMDFiWzMybTM4ODdcdTAwMWJbMzltIHRhcmdldCA9IFx1MDAxYlszODs1OzI4OzQzbXNlbGZcdTAwMWJbMzk7NDltXHUwMDFiWzQzbS5cdTAwMWJbNDltXHUwMDFiWzQzbV9tYXliZV9jYXN0X2xpc3RsaWtlX2luZGV4ZXJcdTAwMWJbNDltXHUwMDFiWzQzbShcdTAwMWJbNDltXHUwMDFiWzQzbXRhcmdldFx1MDAxYls0OW1cdTAwMWJbNDNtKVx1MDAxYls0OW1cblx1MDAxYlszMm0gICAzODg5XHUwMDFiWzM5bSBcdTAwMWJbMzg7NTsyOG1zZWxmXHUwMDFiWzM5bS5fY2hlY2tfaW5kZXhpbmdfbWV0aG9kKG1ldGhvZCwgbGltaXQsIHRvbGVyYW5jZSlcblx1MDAxYlszMm0gICAzODkxXHUwMDFiWzM5bSBcdTAwMWJbMzg7NTsyODswMW1pZlx1MDAxYlszOTswMG0gXHUwMDFiWzM4OzU7MTI5OzAxbW5vdFx1MDAxYlszOTswMG0gXHUwMDFiWzM4OzU7Mjhtc2VsZlx1MDAxYlszOW0uX2luZGV4X2FzX3VuaXF1ZTpcblxuXHUwMDFiWzM2bUZpbGUgXHUwMDFiWzM5bVx1MDAxYlszMm1+L3NoYXJlZC9lYXN0U3luYy9weUVhc3QvcHJvX3ZlcnNpb24vLnZlbnYvbGliL3B5dGhvbjMuMTMvc2l0ZS1wYWNrYWdlcy9wYW5kYXMvY29yZS9pbmRleGVzL2RhdGV0aW1lbGlrZS5weTo0MjdcdTAwMWJbMzltLCBpbiBcdTAwMWJbMzZtRGF0ZXRpbWVJbmRleE9wc01peGluLl9tYXliZV9jYXN0X2xpc3RsaWtlX2luZGV4ZXJcdTAwMWJbMzltXHUwMDFiWzM0bShzZWxmLCBrZXlhcnIpXHUwMDFiWzM5bVxuXHUwMDFiWzMybSAgICA0MjRcdTAwMWJbMzltICAgICAgICAgXHUwMDFiWzM4OzU7NjY7MDNtIyBUT0RPOiBjb20uYXNhcnJheV90dXBsZXNhZmUgc2hvdWxkbid0IGNhc3QgZS5nLiBEYXRldGltZUFycmF5XHUwMDFiWzM5OzAwbVxuXHUwMDFiWzMybSAgICA0MjVcdTAwMWJbMzltICAgICBcdTAwMWJbMzg7NTsyODswMW1lbHNlXHUwMDFiWzM5OzAwbTpcblx1MDAxYlszMm0gICAgNDI2XHUwMDFiWzM5bSAgICAgICAgIHJlcyA9IGtleWFyclxuXHUwMDFiWzMybS0tPiBcdTAwMWJbMzltXHUwMDFiWzMybTQyN1x1MDAxYlszOW0gXHUwMDFiWzM4OzU7Mjg7MDFtcmV0dXJuXHUwMDFiWzM5OzAwbSBcdTAwMWJbNDNtSW5kZXhcdTAwMWJbNDltXHUwMDFiWzQzbShcdTAwMWJbNDltXHUwMDFiWzQzbXJlc1x1MDAxYls0OW1cdTAwMWJbNDNtLFx1MDAxYls0OW1cdTAwMWJbNDNtIFx1MDAxYls0OW1cdTAwMWJbNDNtZHR5cGVcdTAwMWJbNDltXHUwMDFiWzQzbT1cdTAwMWJbNDltXHUwMDFiWzQzbXJlc1x1MDAxYls0OW1cdTAwMWJbNDNtLlx1MDAxYls0OW1cdTAwMWJbNDNtZHR5cGVcdTAwMWJbNDltXHUwMDFiWzQzbSlcdTAwMWJbNDltXG5cblx1MDAxYlszNm1GaWxlIFx1MDAxYlszOW1cdTAwMWJbMzJtfi9zaGFyZWQvZWFzdFN5bmMvcHlFYXN0L3Byb192ZXJzaW9uLy52ZW52L2xpYi9weXRob24zLjEzL3NpdGUtcGFja2FnZXMvcGFuZGFzL2NvcmUvaW5kZXhlcy9iYXNlLnB5OjQ4NVx1MDAxYlszOW0sIGluIFx1MDAxYlszNm1JbmRleC5fX25ld19fXHUwMDFiWzM5bVx1MDAxYlszNG0oY2xzLCBkYXRhLCBkdHlwZSwgY29weSwgbmFtZSwgdHVwbGVpemVfY29scylcdTAwMWJbMzltXG5cdTAwMWJbMzJtICAgIDQ3NVx1MDAxYlszOW0gXHUwMDFiWzM4OzU7Mjg7MDFtZGVmXHUwMDFiWzM5OzAwbVx1MDAxYlszODs1OzI1MG0gXHUwMDFiWzM5bVx1MDAxYlszNG1fX25ld19fXHUwMDFiWzM5bShcblx1MDAxYlszMm0gICAgNDc2XHUwMDFiWzM5bSAgICAgXHUwMDFiWzM4OzU7MjhtY2xzXHUwMDFiWzM5bSxcblx1MDAxYlszMm0gICAgNDc3XHUwMDFiWzM5bSAgICAgZGF0YT1cdTAwMWJbMzg7NTsyODswMW1Ob25lXHUwMDFiWzM5OzAwbSxcblx1MDAxYlszMm0gICAoLi4uKVx1MDAxYlszOW1cdTAwMWJbMzJtICAgIDQ4MVx1MDAxYlszOW0gICAgIHR1cGxlaXplX2NvbHM6IFx1MDAxYlszODs1OzI4bWJvb2xcdTAwMWJbMzltID0gXHUwMDFiWzM4OzU7Mjg7MDFtVHJ1ZVx1MDAxYlszOTswMG0sXG5cdTAwMWJbMzJtICAgIDQ4Mlx1MDAxYlszOW0gKSAtPiBTZWxmOlxuXHUwMDFiWzMybSAgICA0ODNcdTAwMWJbMzltICAgICBcdTAwMWJbMzg7NTsyODswMW1mcm9tXHUwMDFiWzM5OzAwbVx1MDAxYlszODs1OzI1MG0gXHUwMDFiWzM5bVx1MDAxYlszNDswMW1wYW5kYXNcdTAwMWJbMzk7MDBtXHUwMDFiWzM0OzAxbS5cdTAwMWJbMzk7MDBtXHUwMDFiWzM0OzAxbWNvcmVcdTAwMWJbMzk7MDBtXHUwMDFiWzM0OzAxbS5cdTAwMWJbMzk7MDBtXHUwMDFiWzM0OzAxbWluZGV4ZXNcdTAwMWJbMzk7MDBtXHUwMDFiWzM0OzAxbS5cdTAwMWJbMzk7MDBtXHUwMDFiWzM0OzAxbXJhbmdlXHUwMDFiWzM5OzAwbVx1MDAxYlszODs1OzI1MG0gXHUwMDFiWzM5bVx1MDAxYlszODs1OzI4OzAxbWltcG9ydFx1MDAxYlszOTswMG0gUmFuZ2VJbmRleFxuXHUwMDFiWzMybS0tPiBcdTAwMWJbMzltXHUwMDFiWzMybTQ4NVx1MDAxYlszOW0gICAgIG5hbWUgPSBcdTAwMWJbNDNtbWF5YmVfZXh0cmFjdF9uYW1lXHUwMDFiWzQ5bVx1MDAxYls0M20oXHUwMDFiWzQ5bVx1MDAxYls0M21uYW1lXHUwMDFiWzQ5bVx1MDAxYls0M20sXHUwMDFiWzQ5bVx1MDAxYls0M20gXHUwMDFiWzQ5bVx1MDAxYls0M21kYXRhXHUwMDFiWzQ5bVx1MDAxYls0M20sXHUwMDFiWzQ5bVx1MDAxYls0M20gXHUwMDFiWzQ5bVx1MDAxYlszODs1OzI4OzQzbWNsc1x1MDAxYlszOTs0OW1cdTAwMWJbNDNtKVx1MDAxYls0OW1cblx1MDAxYlszMm0gICAgNDg3XHUwMDFiWzM5bSAgICAgXHUwMDFiWzM4OzU7Mjg7MDFtaWZcdTAwMWJbMzk7MDBtIGR0eXBlIFx1MDAxYlszODs1OzEyOTswMW1pc1x1MDAxYlszOTswMG0gXHUwMDFiWzM4OzU7MTI5OzAxbW5vdFx1MDAxYlszOTswMG0gXHUwMDFiWzM4OzU7Mjg7MDFtTm9uZVx1MDAxYlszOTswMG06XG5cdTAwMWJbMzJtICAgIDQ4OFx1MDAxYlszOW0gICAgICAgICBkdHlwZSA9IHBhbmRhc19kdHlwZShkdHlwZSlcblxuXHUwMDFiWzM2bUZpbGUgXHUwMDFiWzM5bVx1MDAxYlszMm1+L3NoYXJlZC9lYXN0U3luYy9weUVhc3QvcHJvX3ZlcnNpb24vLnZlbnYvbGliL3B5dGhvbjMuMTMvc2l0ZS1wYWNrYWdlcy9wYW5kYXMvY29yZS9pbmRleGVzL2Jhc2UucHk6Nzc1OFx1MDAxYlszOW0sIGluIFx1MDAxYlszNm1tYXliZV9leHRyYWN0X25hbWVcdTAwMWJbMzltXHUwMDFiWzM0bShuYW1lLCBvYmosIGNscylcdTAwMWJbMzltXG5cdTAwMWJbMzJtICAgNzc1NFx1MDAxYlszOW0gXHUwMDFiWzM4OzU7Mjg7MDFtZGVmXHUwMDFiWzM5OzAwbVx1MDAxYlszODs1OzI1MG0gXHUwMDFiWzM5bVx1MDAxYlszNG1tYXliZV9leHRyYWN0X25hbWVcdTAwMWJbMzltKG5hbWUsIG9iaiwgXHUwMDFiWzM4OzU7MjhtY2xzXHUwMDFiWzM5bSkgLT4gSGFzaGFibGU6XG5cdTAwMWJbMzJtICAgNzc1NVx1MDAxYlszOW0gXHUwMDFiWzM4OzU7MjUwbSAgICBcdTAwMWJbMzltXHUwMDFiWzMzOzAzbVwiXCJcIlx1MDAxYlszOTswMG1cblx1MDAxYlszMm0gICA3NzU2XHUwMDFiWzM5bSBcdTAwMWJbMzM7MDNtICAgIElmIG5vIG5hbWUgaXMgcGFzc2VkLCB0aGVuIGV4dHJhY3QgaXQgZnJvbSBkYXRhLCB2YWxpZGF0aW5nIGhhc2hhYmlsaXR5Llx1MDAxYlszOTswMG1cblx1MDAxYlszMm0gICA3NzU3XHUwMDFiWzM5bSBcdTAwMWJbMzM7MDNtICAgIFwiXCJcIlx1MDAxYlszOTswMG1cblx1MDAxYlszMm0tPiBcdTAwMWJbMzltXHUwMDFiWzMybTc3NThcdTAwMWJbMzltICAgICBcdTAwMWJbMzg7NTsyODswMW1pZlx1MDAxYlszOTswMG0gbmFtZSBcdTAwMWJbMzg7NTsxMjk7MDFtaXNcdTAwMWJbMzk7MDBtIFx1MDAxYlszODs1OzI4OzAxbU5vbmVcdTAwMWJbMzk7MDBtIFx1MDAxYlszODs1OzEyOTswMW1hbmRcdTAwMWJbMzk7MDBtIFx1MDAxYlszODs1OzI4OzQzbWlzaW5zdGFuY2VcdTAwMWJbMzk7NDltXHUwMDFiWzQzbShcdTAwMWJbNDltXHUwMDFiWzQzbW9ialx1MDAxYls0OW1cdTAwMWJbNDNtLFx1MDAxYls0OW1cdTAwMWJbNDNtIFx1MDAxYls0OW1cdTAwMWJbNDNtKFx1MDAxYls0OW1cdTAwMWJbNDNtSW5kZXhcdTAwMWJbNDltXHUwMDFiWzQzbSxcdTAwMWJbNDltXHUwMDFiWzQzbSBcdTAwMWJbNDltXHUwMDFiWzQzbUFCQ1Nlcmllc1x1MDAxYls0OW1cdTAwMWJbNDNtKVx1MDAxYls0OW1cdTAwMWJbNDNtKVx1MDAxYls0OW06XG5cdTAwMWJbMzJtICAgNzc1OVx1MDAxYlszOW0gICAgICAgICBcdTAwMWJbMzg7NTs2NjswM20jIE5vdGUgd2UgZG9uJ3QganVzdCBjaGVjayBmb3IgXCJuYW1lXCIgYXR0cmlidXRlIHNpbmNlIHRoYXQgd291bGRcdTAwMWJbMzk7MDBtXG5cdTAwMWJbMzJtICAgNzc2MFx1MDAxYlszOW0gICAgICAgICBcdTAwMWJbMzg7NTs2NjswM20jICBwaWNrIHVwIGUuZy4gZHR5cGUubmFtZVx1MDAxYlszOTswMG1cblx1MDAxYlszMm0gICA3NzYxXHUwMDFiWzM5bSAgICAgICAgIG5hbWUgPSBvYmoubmFtZVxuXHUwMDFiWzMybSAgIDc3NjNcdTAwMWJbMzltICAgICBcdTAwMWJbMzg7NTs2NjswM20jIEdIIzI5MDY5XHUwMDFiWzM5OzAwbVxuXG5cdTAwMWJbMzZtRmlsZSBcdTAwMWJbMzltXHUwMDFiWzMybX4vc2hhcmVkL2Vhc3RTeW5jL3B5RWFzdC9wcm9fdmVyc2lvbi8udmVudi9saWIvcHl0aG9uMy4xMy9zaXRlLXBhY2thZ2VzL3BhbmRhcy9jb3JlL2R0eXBlcy9nZW5lcmljLnB5OjQyXHUwMDFiWzM5bSwgaW4gXHUwMDFiWzM2bWNyZWF0ZV9wYW5kYXNfYWJjX3R5cGUuPGxvY2Fscz4uX2luc3RhbmNlY2hlY2tcdTAwMWJbMzltXHUwMDFiWzM0bShjbHMsIGluc3QpXHUwMDFiWzM5bVxuXHUwMDFiWzMybSAgICAgMzhcdTAwMWJbMzltICAgICBcdTAwMWJbMzg7NTsyODswMW1yZXR1cm5cdTAwMWJbMzk7MDBtIFx1MDAxYlszODs1OzI4bWdldGF0dHJcdTAwMWJbMzltKGluc3QsIGF0dHIsIFx1MDAxYlszM21cIlx1MDAxYlszOW1cdTAwMWJbMzNtX3R5cFx1MDAxYlszOW1cdTAwMWJbMzNtXCJcdTAwMWJbMzltKSBcdTAwMWJbMzg7NTsxMjk7MDFtaW5cdTAwMWJbMzk7MDBtIGNvbXBcblx1MDAxYlszMm0gICAgIDQwXHUwMDFiWzM5bSBcdTAwMWJbMzg7NTs2NjswM20jIGh0dHBzOi8vZ2l0aHViLmNvbS9weXRob24vbXlweS9pc3N1ZXMvMTAwNlx1MDAxYlszOTswMG1cblx1MDAxYlszMm0gICAgIDQxXHUwMDFiWzM5bSBcdTAwMWJbMzg7NTs2NjswM20jIGVycm9yOiAnY2xhc3NtZXRob2QnIHVzZWQgd2l0aCBhIG5vbi1tZXRob2RcdTAwMWJbMzk7MDBtXG5cdTAwMWJbMzJtLS0tPiBcdTAwMWJbMzltXHUwMDFiWzMybTQyXHUwMDFiWzM5bSBcdTAwMWJbMzg7NTsxMjltQGNsYXNzbWV0aG9kXHUwMDFiWzM5bSAgXHUwMDFiWzM4OzU7NjY7MDNtIyB0eXBlOiBpZ25vcmVbbWlzY11cdTAwMWJbMzk7MDBtXG5cdTAwMWJbMzJtICAgICA0M1x1MDAxYlszOW0gXHUwMDFiWzM4OzU7Mjg7MDFtZGVmXHUwMDFiWzM5OzAwbVx1MDAxYlszODs1OzI1MG0gXHUwMDFiWzM5bVx1MDAxYlszNG1faW5zdGFuY2VjaGVja1x1MDAxYlszOW0oXHUwMDFiWzM4OzU7MjhtY2xzXHUwMDFiWzM5bSwgaW5zdCkgLT4gXHUwMDFiWzM4OzU7MjhtYm9vbFx1MDAxYlszOW06XG5cdTAwMWJbMzJtICAgICA0NFx1MDAxYlszOW0gICAgIFx1MDAxYlszODs1OzI4OzAxbXJldHVyblx1MDAxYlszOTswMG0gX2NoZWNrKGluc3QpIFx1MDAxYlszODs1OzEyOTswMW1hbmRcdTAwMWJbMzk7MDBtIFx1MDAxYlszODs1OzEyOTswMW1ub3RcdTAwMWJbMzk7MDBtIFx1MDAxYlszODs1OzI4bWlzaW5zdGFuY2VcdTAwMWJbMzltKGluc3QsIFx1MDAxYlszODs1OzI4bXR5cGVcdTAwMWJbMzltKVxuXHUwMDFiWzMybSAgICAgNDZcdTAwMWJbMzltIFx1MDAxYlszODs1OzEyOW1AY2xhc3NtZXRob2RcdTAwMWJbMzltICBcdTAwMWJbMzg7NTs2NjswM20jIHR5cGU6IGlnbm9yZVttaXNjXVx1MDAxYlszOTswMG1cblx1MDAxYlszMm0gICAgIDQ3XHUwMDFiWzM5bSBcdTAwMWJbMzg7NTsyODswMW1kZWZcdTAwMWJbMzk7MDBtXHUwMDFiWzM4OzU7MjUwbSBcdTAwMWJbMzltXHUwMDFiWzM0bV9zdWJjbGFzc2NoZWNrXHUwMDFiWzM5bShcdTAwMWJbMzg7NTsyOG1jbHNcdTAwMWJbMzltLCBpbnN0KSAtPiBcdTAwMWJbMzg7NTsyOG1ib29sXHUwMDFiWzM5bTpcblx1MDAxYlszMm0gICAgIDQ4XHUwMDFiWzM5bSAgICAgXHUwMDFiWzM4OzU7NjY7MDNtIyBSYWlzZSBpbnN0ZWFkIG9mIHJldHVybmluZyBGYWxzZVx1MDAxYlszOTswMG1cblx1MDAxYlszMm0gICAgIDQ5XHUwMDFiWzM5bSAgICAgXHUwMDFiWzM4OzU7NjY7MDNtIyBUaGlzIGlzIGNvbnNpc3RlbnQgd2l0aCBkZWZhdWx0IF9fc3ViY2xhc3NjaGVja19fIGJlaGF2aW9yXHUwMDFiWzM5OzAwbVxuXG5cdTAwMWJbMzFtS2V5Ym9hcmRJbnRlcnJ1cHRcdTAwMWJbMzltOiAiCn0=\"},\"mime\":\"application/vnd.code.notebook.error\"}]}],\"source\":\"import pandas as pd\\nfrom pathlib import Path\\nfrom typing import Optional\\nfrom data_pipeline import load_data  # This just loads the data and cleans it\\nfrom featureEngineer import FeatureEngineer\\nfrom targetEngineer import ExpirationTargetEngineer\\nfrom ML_setup import CONFIG\\nfrom ML_general_tools import *\\nfrom pathlib import Path\\n\\nprint(\\\"Imports and configuration ready\\\")\\n\\n# Build features, targets, and combined dataframe\\nraw_history = load_data(CONFIG[\\\"data\\\"][\\\"path\\\"])\\nhistory_slice = raw_history[:]\\n\\nfeature_params = dict(CONFIG[\\\"features\\\"][\\\"params\\\"])\\nheavy_cache_cfg = CONFIG[\\\"features\\\"].get(\\\"heavy_cache\\\", {})\\nheavy_cache_root = Path(heavy_cache_cfg.get(\\\"directory\\\", \\\"cache/heavy_features\\\"))\\n\\ncurrent_output_root_str = CONFIG[\\\"output\\\"][\\\"directory\\\"]\\ncurrent_output_root_path = Path(current_output_root_str)\\n\\npaths = {\\n    \\\"root\\\": current_output_root_path,\\n    \\\"feature_selection\\\": current_output_root_path / CONFIG[\\\"output\\\"][\\\"subdirectories\\\"][\\\"features\\\"],\\n    \\\"trained_models\\\": current_output_root_path / CONFIG[\\\"output\\\"][\\\"subdirectories\\\"][\\\"models\\\"],\\n    \\\"hpt_studies\\\": current_output_root_path / CONFIG[\\\"output\\\"][\\\"subdirectories\\\"][\\\"hpt\\\"],\\n    \\\"feature_cache\\\": current_output_root_path / CONFIG[\\\"output\\\"][\\\"subdirectories\\\"][\\\"cache\\\"]\\n}\\n\\n\\ncache_dir = heavy_cache_root\\ncache_dir.mkdir(parents=True, exist_ok=True)\\ncache_files = sorted(cache_dir.glob(\\\"heavy_features_v*.pkl\\\"))\\ncache_ready = bool(cache_files)\\nif cache_ready:\\n    print(f\\\"Heavy cache ready: {cache_files[-1].name} (total {len(cache_files)}) in {cache_dir}\\\")\\nelse:\\n    print(f\\\"No heavy cache file found in {cache_dir}; initial fit will populate.\\\")\\n\\n## Feture Engineering\\nfe = FeatureEngineer(verbose=feature_params.get(\\\"verbose\\\", False), **{k: v for k, v in feature_params.items() if k != \\\"verbose\\\"})\\n\\n## cache\\ncache_ready = True  # Force rebuild for testing\\n\\nmanual_features = None\\nif cache_ready and fe.heavy_cache.load():\\n    print(\\\"Loaded heavy cache payload from disk; skipping rebuild.\\\")\\n    fe._heavy_payload = fe.heavy_cache.payload\\n    reference = fe._prepare_reference_frame(history_slice)\\n    fe._full_reference = reference\\n    manual_features = fe._compute_all_features(reference, build_heavy=False)\\n    fe.feature_names_out_ = manual_features.columns.tolist()\\n    fe._reference_features = manual_features\\n    print(f\\\"Manual features shape from cache: {manual_features.shape}\\\")\\nelse:\\n    print(\\\"Heavy cache not available or failed to load; running full fit.\\\")\\n    verbose_flag = feature_params.pop(\\\"verbose\\\", False)\\n    fe = FeatureEngineer(verbose=verbose_flag, **feature_params)\\n    fe.fit(history_slice)\\n    manual_features = fe.transform(history_slice)\\n\\nfeature_engineer = fe\\nfeatures = manual_features.copy()\\n\\n## Add targets standard expiration targets\\n# target_engineer = ExpirationTargetEngineer(**CONFIG[\\\"targets\\\"][\\\"params\\\"])\\n# target_engineer.fit(features)\\n# targets = target_engineer.transform(features)\\n\\n## 2a. Volatility Regime Target Engineering Test ---\\nfrom targetEngineer import VolatilityRegimeEngineer\\n\\ndf_train = features.copy()\\n\\n# Instantiate with your parameters\\nregime_engineer = VolatilityRegimeEngineer(\\n    lookback_window=24*3,    # 3 days lookback for vol\\n    seasonal_window=24*30,   # 30 days to learn patterns\\n    forward_window=24,       # 24h classification\\n    trend_std=1.2,           # 1.2 daily sigmas\\n    jump_std=3.0,            # 3.0 daily sigmas (scaled internally for 6h window)\\n    jump_speed_window=6,     # 6h window for jump detection\\n\\n    # Hardening Parameters\\n    trend_min_efficiency=0.15, # Allows looser/messier trends\\n    trend_min_r2=0.6           # Requires moderate linear fit\\n)\\n\\n# Run Fit/Transform\\nregime_engineer.fit(df_train)\\ntargets = regime_engineer.transform(df_train)\\n\\n# Check the distribution\\ndist = regime_engineer.get_regime_distribution(df_train)\\nprint(dist)\\n\\n\\ninitial_feature_names = list(features.columns)\\n\\n# Generate targets (your existing logic)\\nprint(initial_feature_names)\\n\\n\\n## deop price columns from features\\n# drop_cols = [col for col in ['o', 'h', 'l', 'c', 'volCcy'] if col in features.columns]\\n# if drop_cols: features = features.drop(columns=drop_cols)\\n\\n\\n# Combine\\ncombined_df = pd.concat([features, targets], axis=1)\\n\",\"internalMetadata\":{\"executionOrder\":2,\"executionId\":\"e6107f53-07df-49ee-afa2-9ba4ab895634\",\"runStartTime\":1764178361970,\"runEndTime\":1764178531343,\"lastRunSuccess\":false,\"renderDuration\":{\"vscode.builtin-renderer\":4},\"runStartTimeAdjustment\":0,\"internalId\":\"d9559027\"}},{\"cellKind\":2,\"language\":\"python\",\"metadata\":{\"execution_count\":1,\"id\":\"030f489c\",\"metadata\":{}},\"outputs\":[{\"outputId\":\"49251b87-6527-4753-80ce-d9f7c4cb442d\",\"metadata\":{\"outputType\":\"error\",\"originalError\":{\"output_type\":\"error\",\"ename\":\"NameError\",\"evalue\":\"name 'features' is not defined\",\"traceback\":[\"\\u001b[31m---------------------------------------------------------------------------\\u001b[39m\",\"\\u001b[31mNameError\\u001b[39m                                 Traceback (most recent call last)\",\"\\u001b[36mCell\\u001b[39m\\u001b[36m \\u001b[39m\\u001b[32mIn[1]\\u001b[39m\\u001b[32m, line 2\\u001b[39m\\n\\u001b[32m      1\\u001b[39m \\u001b[38;5;66;03m# Find rows with any NaN values in features\\u001b[39;00m\\n\\u001b[32m----> \\u001b[39m\\u001b[32m2\\u001b[39m nan_mask = \\u001b[43mfeatures\\u001b[49m.isna().any(axis=\\u001b[32m1\\u001b[39m)\\n\\u001b[32m      3\\u001b[39m features_with_nans = features[nan_mask]\\n\",\"\\u001b[31mNameError\\u001b[39m: name 'features' is not defined\"]}},\"outputs\":[{\"data\":{\"type\":\"ArrayBuffer-4f56482b-5a03-49ba-8356-210d3b0c1c3d\",\"data\":\"ewoJIm5hbWUiOiAiTmFtZUVycm9yIiwKCSJtZXNzYWdlIjogIm5hbWUgJ2ZlYXR1cmVzJyBpcyBub3QgZGVmaW5lZCIsCgkic3RhY2siOiAiXHUwMDFiWzMxbS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVx1MDAxYlszOW1cblx1MDAxYlszMW1OYW1lRXJyb3JcdTAwMWJbMzltICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHJhY2ViYWNrIChtb3N0IHJlY2VudCBjYWxsIGxhc3QpXG5cdTAwMWJbMzZtQ2VsbFx1MDAxYlszOW1cdTAwMWJbMzZtIFx1MDAxYlszOW1cdTAwMWJbMzJtSW5bMV1cdTAwMWJbMzltXHUwMDFiWzMybSwgbGluZSAyXHUwMDFiWzM5bVxuXHUwMDFiWzMybSAgICAgIDFcdTAwMWJbMzltIFx1MDAxYlszODs1OzY2OzAzbSMgRmluZCByb3dzIHdpdGggYW55IE5hTiB2YWx1ZXMgaW4gZmVhdHVyZXNcdTAwMWJbMzk7MDBtXG5cdTAwMWJbMzJtLS0tLT4gXHUwMDFiWzM5bVx1MDAxYlszMm0yXHUwMDFiWzM5bSBuYW5fbWFzayA9IFx1MDAxYls0M21mZWF0dXJlc1x1MDAxYls0OW0uaXNuYSgpLmFueShheGlzPVx1MDAxYlszMm0xXHUwMDFiWzM5bSlcblx1MDAxYlszMm0gICAgICAzXHUwMDFiWzM5bSBmZWF0dXJlc193aXRoX25hbnMgPSBmZWF0dXJlc1tuYW5fbWFza11cblxuXHUwMDFiWzMxbU5hbWVFcnJvclx1MDAxYlszOW06IG5hbWUgJ2ZlYXR1cmVzJyBpcyBub3QgZGVmaW5lZCIKfQ==\"},\"mime\":\"application/vnd.code.notebook.error\"}]}],\"source\":\"\\n# Find rows with any NaN values in features\\nnan_mask = features.isna().any(axis=1)\\nfeatures_with_nans = features[nan_mask]\\n\\n\",\"internalMetadata\":{\"internalId\":\"8d03f25f\",\"runStartTimeAdjustment\":0,\"executionId\":\"4b5a9213-29e4-4548-90bd-298b8efc8811\",\"runStartTime\":1764178353998,\"runEndTime\":1764178354110,\"lastRunSuccess\":false,\"executionOrder\":1,\"renderDuration\":{\"vscode.builtin-renderer\":1},\"error\":{\"name\":\"NameError\",\"message\":\"name 'features' is not defined\",\"stack\":\"\\u001b[31m---------------------------------------------------------------------------\\u001b[39m\\n\\u001b[31mNameError\\u001b[39m                                 Traceback (most recent call last)\\n\\u001b[36mCell\\u001b[39m\\u001b[36m \\u001b[39m\\u001b[32mIn[1]\\u001b[39m\\u001b[32m, line 2\\u001b[39m\\n\\u001b[32m      1\\u001b[39m \\u001b[38;5;66;03m# Find rows with any NaN values in features\\u001b[39;00m\\n\\u001b[32m----> \\u001b[39m\\u001b[32m2\\u001b[39m nan_mask = \\u001b[43mfeatures\\u001b[49m.isna().any(axis=\\u001b[32m1\\u001b[39m)\\n\\u001b[32m      3\\u001b[39m features_with_nans = features[nan_mask]\\n\\n\\u001b[31mNameError\\u001b[39m: name 'features' is not defined\",\"location\":{\"startLineNumber\":1,\"startColumn\":0,\"endLineNumber\":1,\"endColumn\":0},\"uri\":{\"$mid\":1,\"fsPath\":\"/home/east/shared/eastSync/pyEast/pro_version/targeting_volatility.ipynb\",\"external\":\"vscode-notebook-cell:/home/east/shared/eastSync/pyEast/pro_version/targeting_volatility.ipynb#X12sZmlsZQ%3D%3D\",\"path\":\"/home/east/shared/eastSync/pyEast/pro_version/targeting_volatility.ipynb\",\"scheme\":\"vscode-notebook-cell\",\"fragment\":\"X12sZmlsZQ==\"}}}},{\"cellKind\":2,\"language\":\"python\",\"metadata\":{\"execution_count\":null,\"id\":\"90f5abc6\",\"metadata\":{}},\"outputs\":[],\"source\":\"\\n\\n# Clean combined dataframe - drop first month and last 11 rows (minimal cleaning for small dataset)\\nmonths_to_drop = 1  # Only 1 month for small dataset\\ntail_rows_to_drop = 11\\n\\ncutoff = combined_df.index.min() + pd.DateOffset(months=months_to_drop)\\nprint(f\\\"Removing data before {cutoff:%Y-%m-%d} (first {months_to_drop} months)\\\")\\ncombined_df_clean = combined_df.loc[combined_df.index >= cutoff]\\n\\nif tail_rows_to_drop > 0:\\n    print(f\\\"Dropping last {tail_rows_to_drop} rows to avoid trailing NaNs\\\")\\n    combined_df_clean = combined_df_clean.iloc[:-tail_rows_to_drop]\\n\\nprint(f\\\"Rows after cleaning: {len(combined_df_clean)} (from {combined_df_clean.index[0]} to {combined_df_clean.index[-1]})\\\")\\n\\n# Split into train/val/test (80/10/10)\\nn_samples = len(combined_df_clean)\\ntrain_end = int(n_samples * 0.8)\\nval_end = train_end + int(n_samples * 0.1)\\n\\n# Get feature and target columns\\nfeature_cols = features.columns.intersection(combined_df_clean.columns)\\ntarget_cols = targets.columns.intersection(combined_df_clean.columns)\\n\\nX_train = combined_df_clean[feature_cols].iloc[:train_end]\\nX_val = combined_df_clean[feature_cols].iloc[train_end:val_end]\\nX_test = combined_df_clean[feature_cols].iloc[val_end:]\\n\\ny_train = combined_df_clean[target_cols].iloc[:train_end]\\ny_val = combined_df_clean[target_cols].iloc[train_end:val_end]\\ny_test = combined_df_clean[target_cols].iloc[val_end:]\\n\\nprint(f\\\"\\\\nX shapes -> train {X_train.shape}, val {X_val.shape}, test {X_test.shape}\\\")\\nprint(f\\\"y shapes -> train {y_train.shape}, val {y_val.shape}, test {y_test.shape}\\\")\\n\\n# Quick NaN check on training data\\ntrain_nans = X_train.isna().sum()\\nif train_nans.sum() > 0:\\n    print(f\\\"\\\\n Training features with NaNs: {(train_nans > 0).sum()} columns\\\")\\n    print(f\\\"  Max NaNs in any column: {train_nans.max()} ({train_nans.max()/len(X_train):.1%})\\\")\\nelse:\\n    print(\\\"\\\\n No NaNs in training features\\\")\\n\",\"internalMetadata\":{\"internalId\":\"8809a7a5\"}}],\"metadata\":{\"metadata\":{\"kernelspec\":{\"display_name\":\".venv\",\"language\":\"python\",\"name\":\"python3\"},\"language_info\":{\"codemirror_mode\":{\"name\":\"ipython\",\"version\":3},\"file_extension\":\".py\",\"mimetype\":\"text/x-python\",\"name\":\"python\",\"nbconvert_exporter\":\"python\",\"pygments_lexer\":\"ipython3\",\"version\":\"3.13.7\"}},\"nbformat\":4,\"nbformat_minor\":5}}"]